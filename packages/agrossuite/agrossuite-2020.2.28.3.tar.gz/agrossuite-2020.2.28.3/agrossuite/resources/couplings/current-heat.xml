<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<module:module xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="XMLModule ../xsd/module_xml.xsd"
    xmlns:module="XMLModule">
<module:coupling>

    <module:general_coupling id="current-heat" name="Joule losses">
        <module:description>Heat generated by Joule losses in current field
        </module:description>
        <module:modules>
            <module:source id="current" />
            <module:target id="heat" />
        </module:modules>
    </module:general_coupling>

    <module:constants />

    <module:volume>
        <module:vector_form id="weak" i="1" j="1" planar="cu_gamma * (current1dx * current1dx + current1dy * current1dy) * vval" axi="cu_gamma * (current1dr * current1dr + current1dz * current1dz) * r * vval"/>
        <module:matrix_form id="hard_matrix" i="2" j="1" planar="- cu_gamma * 2 * (dx1 * udx + dy1 * udy) * vval" axi="- cu_gamma * 2 * (dr1 * udr + dz1 * udz) * r * vval" />
        <module:vector_form id="hard_vector" i="2" j="1" planar="- cu_gamma * (dx1 * updx + dy1 * updy) * vval"  axi="- cu_gamma * (dr1 * dr1 + updz * dz1) * r * vval" />

        <module:weakforms_volume>
            <module:weakform_volume couplingtype="weak" sourceanalysis="steadystate" analysistype="steadystate" equation="">
            <module:linearity_option type="linear">
                <module:vector_form id="weak" />
            </module:linearity_option>
            <module:linearity_option type="picard">
                <module:vector_form id="weak" />
            </module:linearity_option>
                <module:linearity_option type="newton">
                    <module:vector_form id="weak" coefficient="-1"/>
                </module:linearity_option>
            </module:weakform_volume>

            <module:weakform_volume couplingtype="hard" sourceanalysis="steadystate" analysistype="steadystate" equation="">
                <module:linearity_option type="newton">
                    <module:matrix_form id="hard_matrix"/>
                    <module:vector_form id="hard_vector"/>
                </module:linearity_option>
            </module:weakform_volume>

            <module:weakform_volume couplingtype="weak" sourceanalysis="steadystate" analysistype="transient" equation="">
            <module:linearity_option type="linear">
                <module:vector_form id="weak" />
            </module:linearity_option>
            <module:linearity_option type="picard">
                <module:vector_form id="weak" />
            </module:linearity_option>
                <module:linearity_option type="newton">
                    <module:vector_form id="weak" coefficient="-1"/>
                </module:linearity_option>
            </module:weakform_volume>

            <module:weakform_volume couplingtype="hard" sourceanalysis="steadystate" analysistype="transient" equation="">
                <module:linearity_option type="newton">
                    <module:matrix_form id="hard_matrix"/>
                    <module:vector_form id="hard_vector"/>
                </module:linearity_option>
            </module:weakform_volume>

        </module:weakforms_volume>
    </module:volume>
    </module:coupling>
</module:module>
