{% extends "aristotle_mdr/user/userHome.html" %}
{% load aristotle_tags i18n static %}
{% load render_bundle from webpack_loader %}

{% block title %}Favourites and Tags{% endblock %}
{% block sidebar %}
{% include "aristotle_mdr/user/userSideBar.html" with activeTab='favourites' %}
{% endblock %}

{% block webpack_css_bundle %}
{% render_bundle 'favourites' 'css' %}
{% endblock %}

{% block webpack_bundle %}
{% render_bundle 'favourites' 'js' %}
{% endblock %}

{% block page %}
<h1><a href="#"><i class="fa fa-bookmark fa-fw"></i> Favourites and Tags</a></h1>
{% if not help %}
    <div>
        <div class="row">
            <div class="col-xs-6">
                <ul class="taggle_list">
                    <li class="taggle taggle_postit">
                        <a href="{% url 'aristotle_favourites:favs' %}">
                            <i class="fa fa-bookmark fa-fw"></i>
                            Untagged Favourites
                        </a>
                    </li>
                    {% for tag in tags %}
                    <li class="taggle">
                        <a href="{% url 'aristotle_favourites:tag' tag.id %}">{{ tag.name }}</a>
                    </li>
                    {% endfor %}
                </ul>
            </div>
            <div class="col-xs-6">
                <a class="btn btn-primary pull-right" href="{% url 'aristotle_favourites:all_tags' %}">View all
                    tags
                </a>

            </div>
        </div>
        <p>
            Below is a list of all your favourited or tagged items. You will receive notifications
            when any of these items are edited, if their registration status changes, or if they are made public.
        </p>
        <p>
            Use your favourites and tags to keep track of important items to know when they change.
            <strong><a href="?help=help">Get help on using your favourites.</a></strong>
        </p>
        <hr>
        {% if page_obj %}
            {% include 'aristotle_mdr/favourites/ba_paginated_favourite_items.html' with page_obj=page_obj tags_list=True %}
        {% else %}
            <strong>You currently have no favourited items.</strong>
        {% endif %}
    {% else %}
        <h2 class="no-decoration">Using your favourites list</h2>
        <p>
            You can favourite many items within the registry, when you are logged
            in items you can follow will have an open bookmark symbol next to them -
            <i style="color:goldenrod" class="fa fa-bookmark-o "></i>.
        </p>
        <p>
            Clicking this bookmark will add the item to your favourites list,
            and will toggle the icon.
            Any items that you are following in your favourites list will have
            a filled in bookmark icon by their name
            - <i style="color:goldenrod" class="fa fa-bookmark "></i>.
        </p>
        <p>
            <strong>Try favouriting the item below to see it in action.</strong>
        </p>
        <div class="well">
            <h1 id="objectTitle">
                {% if user.is_authenticated %}
                    <a class="no-decoration" href="?help=help{% ternary favourite '' '&favourite=true' %}"
                       title="Test out favouriting an item"
                       id="favourite" style="margin-left:15px">
                        {% if favourite %}
                        <i class="fa fa-bookmark "></i>
                        {% else %}
                        <i class="fa fa-bookmark-o "></i>
                        {% endif %}
                    </a>
                {% endif %}
                <a>Example item</a>
                <small>(sample item type)</small>
            </h1>
        </div>
        {% if favourite %}
            <p>
                <strong>Congratulations!</strong>
                If this was a real item you would now
                get notifications whenever this item changed.
            </p>
            <p>
                If you click the bookmark icon again the item would be removed
                from your favourites and the notifications would stop.
            </p>
        {% endif %}
        <a class="btn btn-default" href="{% url 'aristotle_favourites:favs_and_tags' %}">Return to Favourites</a>
    {% endif %}
</div>

{% endblock %}
