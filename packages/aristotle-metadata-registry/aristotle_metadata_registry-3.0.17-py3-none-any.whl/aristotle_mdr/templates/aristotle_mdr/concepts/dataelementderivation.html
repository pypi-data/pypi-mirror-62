{% extends "aristotle_mdr/concepts/managedContent.html" %}
{% load aristotle_tags %}

{% block includes %}
{% endblock %}

{% block objSpecific %}
<h2>Derivation</h2>
    <div class="derivation_table">
        <div class="derivation_inputs panel panel-info aristotle-display-panel" style="order:1;">
            <header class="panel-heading">
                Input(s)
            </header>
            <div class="panel-body">
                <ul>
                {% for input in item.inputs.all %}
                    {% if input.data_element_id in viewable_ids %}
                      <li>{% include "aristotle_mdr/helpers/inlineDetails.html" with item=input.data_element skip_can_view=True %}</li>
                    {% endif %}
                {% endfor %}
                </ul>
            </div>
        </div>
        <div class="derivation_outputs panel panel-info aristotle-display-panel" style="order:2;">
            <header class="panel-heading">
                Output(s)
            </header>
            <div class="panel-body">
                <ul>
                {% for output in item.derives.all %}
                    {% if output.data_element_id in viewable_ids %}
                      <li>{% include "aristotle_mdr/helpers/inlineDetails.html" with item=output.data_element skip_can_view=True %}</li>
                    {% endif %}
                {% endfor %}
                </ul>
            </div>
        </div>
        <div class="derivation_rule panel panel-info aristotle-display-panel" style="order:3;">
            <header class="panel-heading">Derivation rule</header>
            <div class="panel-body">
                {% if item.derivation_rule %}
                <pre style="max-width:100%; overflow:auto;">{% spaceless %}
                     {{ item.derivation_rule }}
                {% endspaceless %}</pre>
                {% endif %}
            </div>
        </div>

    </div>

{% bootstrap_modal 'derivation_editor' size='md' %}
{% endblock %}

{% block relationships %}
{% endblock %}
