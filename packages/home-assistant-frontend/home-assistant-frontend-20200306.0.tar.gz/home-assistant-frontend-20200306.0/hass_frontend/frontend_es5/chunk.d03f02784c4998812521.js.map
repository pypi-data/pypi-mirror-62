{"version":3,"sources":["webpack:///./src/data/lovelace.ts","webpack:///./src/components/ha-icon.ts","webpack:///./src/common/util/debounce.ts","webpack:///./src/dialogs/generic/show-dialog-box.ts","webpack:///./src/common/string/compare.ts","webpack:///./src/layouts/hass-tabs-subpage.ts","webpack:///./src/common/util/render-status.ts","webpack:///./src/layouts/hass-tabs-subpage-data-table.ts","webpack:///./src/panels/config/lovelace/dashboards/show-dialog-lovelace-dashboard-detail.ts","webpack:///./src/panels/config/lovelace/dashboards/ha-config-lovelace-dashboards.ts"],"names":["__webpack_require__","d","__webpack_exports__","fetchResources","createResource","updateResource","deleteResource","fetchDashboards","createDashboard","updateDashboard","deleteDashboard","fetchConfig","saveConfig","deleteConfig","subscribeLovelaceUpdates","conn","sendMessagePromise","type","hass","values","callWS","Object","assign","id","updates","resource_id","dashboard_id","urlPath","force","url_path","config","onChange","subscribeEvents","ev","data","ironIconClass","customElements","get","loaded","HaIcon","_ironIconClass","_getPrototypeOf2","_this","_classCallCheck","this","_len","arguments","length","args","Array","_key","_getPrototypeOf","call","apply","concat","_assertThisInitialized","_inherits","key","value","node","eventName","methodName","_get","prototype","_iconsetName","e","then","bind","define","debounce","func","wait","timeout","immediate","undefined","context","callNow","clearTimeout","setTimeout","showAlertDialog","showConfirmationDialog","showPromptDialog","_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__","loadGenericDialog","Promise","all","showDialogHelper","element","dialogParams","extra","resolve","origCancel","cancel","origConfirm","confirm","fireEvent","dialogTag","dialogImport","prompt","out","confirmation","compare","caseInsensitiveCompare","a","b","toLowerCase","customElement","HassTabsSubpage","property","String","attribute","Boolean","reflect","memoizeOne","tabs","activeTab","showAdvanced","_components","_language","filter","page","component","core","isComponentLoaded","_this2","advancedOnly","map","index","html","_templateObject","classMap","active","_tabTapped","path","narrow","_templateObject2","icon","_templateObject3","translationKey","localize","name","changedProperties","_this3","has","_activeTab","findIndex","tab","route","prefix","includes","_this$hass$userData","_getTabs","userData","components","language","_templateObject4","hassio","_backTapped","_templateObject5","_templateObject6","bottom-bar","navigate","currentTarget","backPath","backCallback","history","back","css","_templateObject7","LitElement","afterNextRender","nextRender","cb","requestAnimationFrame","_decorate","_initialize","_LitElement","F","_LitElement2","HaTabsSubpageDataTable","kind","decorators","query","_dataTable","clearSelection","_handleSearchChange","columns","selectable","detail","static","loadDashboardDetailDialog","HaConfigLovelaceDashboards","memoize","dashboards","title","template","sortable","filterable","direction","grows","dashboard","titleTemplate","mode","filename","width","some","require_admin","requireAdmin","_templateObject8","_templateObject9","show_in_sidebar","sidebar","_templateObject10","_templateObject11","_templateObject12","_navigate","_templateObject13","_this3$hass$panels","_this3$hass$panels$lo","defaultMode","panels","lovelace","isDefault","localStorage","defaultPage","default","_toConsumableArray","_dashboards","_templateObject15","lovelaceTabs","_columns","_getItems","_editDashboard","isWide","_addDashboard","_templateObject14","changedProps","_getDashboards","_getDashboards2","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","sent","stop","stopPropagation","url","target","find","res","_openDialog","_openDialog2","_callee5","_this4","_context5","_createDashboard2","_callee2","created","_context2","sort","res1","res2","_x3","_updateDashboard2","_callee3","updated","_context3","_x4","removeDashboard","_removeDashboard","_callee4","_context4","text","abrupt","t0","_x","_x2","_templateObject16"],"mappings":"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","file":"chunk.d03f02784c4998812521.js","sourcesContent":["import { HomeAssistant } from \"../types\";\nimport {\n  Connection,\n  getCollection,\n  HassEventBase,\n} from \"home-assistant-js-websocket\";\nimport { HASSDomEvent } from \"../common/dom/fire_event\";\n\nexport interface LovelacePanelConfig {\n  mode: \"yaml\" | \"storage\";\n}\n\nexport interface LovelaceConfig {\n  title?: string;\n  views: LovelaceViewConfig[];\n  background?: string;\n}\n\nexport interface LegacyLovelaceConfig extends LovelaceConfig {\n  resources?: LovelaceResource[];\n}\n\nexport interface LovelaceResource {\n  id: string;\n  type: \"css\" | \"js\" | \"module\" | \"html\";\n  url: string;\n}\n\nexport interface LovelaceResourcesMutableParams {\n  res_type: \"css\" | \"js\" | \"module\" | \"html\";\n  url: string;\n}\n\nexport type LovelaceDashboard =\n  | LovelaceYamlDashboard\n  | LovelaceStorageDashboard;\n\ninterface LovelaceGenericDashboard {\n  id: string;\n  url_path: string;\n  require_admin: boolean;\n  show_in_sidebar: boolean;\n  icon?: string;\n  title: string;\n}\n\nexport interface LovelaceYamlDashboard extends LovelaceGenericDashboard {\n  mode: \"yaml\";\n  filename: string;\n}\n\nexport interface LovelaceStorageDashboard extends LovelaceGenericDashboard {\n  mode: \"storage\";\n}\n\nexport interface LovelaceDashboardMutableParams {\n  require_admin: boolean;\n  show_in_sidebar: boolean;\n  icon?: string;\n  title: string;\n}\n\nexport interface LovelaceDashboardCreateParams\n  extends LovelaceDashboardMutableParams {\n  url_path: string;\n  mode: \"storage\";\n}\n\nexport interface LovelaceViewConfig {\n  index?: number;\n  title?: string;\n  badges?: Array<string | LovelaceBadgeConfig>;\n  cards?: LovelaceCardConfig[];\n  path?: string;\n  icon?: string;\n  theme?: string;\n  panel?: boolean;\n  background?: string;\n  visible?: boolean | ShowViewConfig[];\n}\n\nexport interface ShowViewConfig {\n  user?: string;\n}\n\nexport interface LovelaceBadgeConfig {\n  type?: string;\n  [key: string]: any;\n}\n\nexport interface LovelaceCardConfig {\n  index?: number;\n  view_index?: number;\n  type: string;\n  [key: string]: any;\n}\n\nexport interface ToggleActionConfig extends BaseActionConfig {\n  action: \"toggle\";\n}\n\nexport interface CallServiceActionConfig extends BaseActionConfig {\n  action: \"call-service\";\n  service: string;\n  service_data?: {\n    entity_id?: string | [string];\n    [key: string]: any;\n  };\n}\n\nexport interface NavigateActionConfig extends BaseActionConfig {\n  action: \"navigate\";\n  navigation_path: string;\n}\n\nexport interface UrlActionConfig extends BaseActionConfig {\n  action: \"url\";\n  url_path: string;\n}\n\nexport interface MoreInfoActionConfig extends BaseActionConfig {\n  action: \"more-info\";\n}\n\nexport interface NoActionConfig extends BaseActionConfig {\n  action: \"none\";\n}\n\nexport interface CustomActionConfig extends BaseActionConfig {\n  action: \"fire-dom-event\";\n}\n\nexport interface BaseActionConfig {\n  confirmation?: ConfirmationRestrictionConfig;\n}\n\nexport interface ConfirmationRestrictionConfig {\n  text?: string;\n  exemptions?: RestrictionConfig[];\n}\n\nexport interface RestrictionConfig {\n  user: string;\n}\n\nexport type ActionConfig =\n  | ToggleActionConfig\n  | CallServiceActionConfig\n  | NavigateActionConfig\n  | UrlActionConfig\n  | MoreInfoActionConfig\n  | NoActionConfig\n  | CustomActionConfig;\n\ntype LovelaceUpdatedEvent = HassEventBase & {\n  event_type: \"lovelace_updated\";\n  data: {\n    url_path: string | null;\n    mode: \"yaml\" | \"storage\";\n  };\n};\n\nexport const fetchResources = (conn: Connection): Promise<LovelaceResource[]> =>\n  conn.sendMessagePromise({\n    type: \"lovelace/resources\",\n  });\n\nexport const createResource = (\n  hass: HomeAssistant,\n  values: LovelaceResourcesMutableParams\n) =>\n  hass.callWS<LovelaceResource>({\n    type: \"lovelace/resources/create\",\n    ...values,\n  });\n\nexport const updateResource = (\n  hass: HomeAssistant,\n  id: string,\n  updates: Partial<LovelaceResourcesMutableParams>\n) =>\n  hass.callWS<LovelaceResource>({\n    type: \"lovelace/resources/update\",\n    resource_id: id,\n    ...updates,\n  });\n\nexport const deleteResource = (hass: HomeAssistant, id: string) =>\n  hass.callWS({\n    type: \"lovelace/resources/delete\",\n    resource_id: id,\n  });\n\nexport const fetchDashboards = (\n  hass: HomeAssistant\n): Promise<LovelaceDashboard[]> =>\n  hass.callWS({\n    type: \"lovelace/dashboards/list\",\n  });\n\nexport const createDashboard = (\n  hass: HomeAssistant,\n  values: LovelaceDashboardCreateParams\n) =>\n  hass.callWS<LovelaceDashboard>({\n    type: \"lovelace/dashboards/create\",\n    ...values,\n  });\n\nexport const updateDashboard = (\n  hass: HomeAssistant,\n  id: string,\n  updates: Partial<LovelaceDashboardMutableParams>\n) =>\n  hass.callWS<LovelaceDashboard>({\n    type: \"lovelace/dashboards/update\",\n    dashboard_id: id,\n    ...updates,\n  });\n\nexport const deleteDashboard = (hass: HomeAssistant, id: string) =>\n  hass.callWS({\n    type: \"lovelace/dashboards/delete\",\n    dashboard_id: id,\n  });\n\nexport const fetchConfig = (\n  conn: Connection,\n  urlPath: string | null,\n  force: boolean\n): Promise<LovelaceConfig> =>\n  conn.sendMessagePromise({\n    type: \"lovelace/config\",\n    url_path: urlPath,\n    force,\n  });\n\nexport const saveConfig = (\n  hass: HomeAssistant,\n  urlPath: string | null,\n  config: LovelaceConfig\n): Promise<void> =>\n  hass.callWS({\n    type: \"lovelace/config/save\",\n    url_path: urlPath,\n    config,\n  });\n\nexport const deleteConfig = (\n  hass: HomeAssistant,\n  urlPath: string | null\n): Promise<void> =>\n  hass.callWS({\n    type: \"lovelace/config/delete\",\n    url_path: urlPath,\n  });\n\nexport const subscribeLovelaceUpdates = (\n  conn: Connection,\n  urlPath: string | null,\n  onChange: () => void\n) =>\n  conn.subscribeEvents<LovelaceUpdatedEvent>((ev) => {\n    if (ev.data.url_path === urlPath) {\n      onChange();\n    }\n  }, \"lovelace_updated\");\n\nexport const getLovelaceCollection = (\n  conn: Connection,\n  urlPath: string | null = null\n) =>\n  getCollection(\n    conn,\n    `_lovelace_${urlPath ?? \"\"}`,\n    (conn2) => fetchConfig(conn2, urlPath, false),\n    (_conn, store) =>\n      subscribeLovelaceUpdates(conn, urlPath, () =>\n        fetchConfig(conn, urlPath, false).then((config) =>\n          store.setState(config, true)\n        )\n      )\n  );\n\n// Legacy functions to support cast for Home Assistion < 0.107\nconst fetchLegacyConfig = (\n  conn: Connection,\n  force: boolean\n): Promise<LovelaceConfig> =>\n  conn.sendMessagePromise({\n    type: \"lovelace/config\",\n    force,\n  });\n\nconst subscribeLegacyLovelaceUpdates = (\n  conn: Connection,\n  onChange: () => void\n) => conn.subscribeEvents(onChange, \"lovelace_updated\");\n\nexport const getLegacyLovelaceCollection = (conn: Connection) =>\n  getCollection(\n    conn,\n    \"_lovelace\",\n    (conn2) => fetchLegacyConfig(conn2, false),\n    (_conn, store) =>\n      subscribeLegacyLovelaceUpdates(conn, () =>\n        fetchLegacyConfig(conn, false).then((config) =>\n          store.setState(config, true)\n        )\n      )\n  );\n\nexport interface WindowWithLovelaceProm extends Window {\n  llConfProm?: Promise<LovelaceConfig>;\n  llResProm?: Promise<LovelaceResource[]>;\n}\n\nexport interface ActionHandlerOptions {\n  hasHold?: boolean;\n  hasDoubleClick?: boolean;\n}\n\nexport interface ActionHandlerDetail {\n  action: string;\n}\n\nexport type ActionHandlerEvent = HASSDomEvent<ActionHandlerDetail>;\n","import { Constructor } from \"../types\";\n\nimport \"@polymer/iron-icon/iron-icon\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { IronIconElement } from \"@polymer/iron-icon/iron-icon\";\n\nconst ironIconClass = customElements.get(\"iron-icon\") as Constructor<\n  IronIconElement\n>;\n\nlet loaded = false;\n\nexport class HaIcon extends ironIconClass {\n  private _iconsetName?: string;\n\n  public listen(\n    node: EventTarget | null,\n    eventName: string,\n    methodName: string\n  ): void {\n    super.listen(node, eventName, methodName);\n\n    if (!loaded && this._iconsetName === \"mdi\") {\n      loaded = true;\n      import(/* webpackChunkName: \"mdi-icons\" */ \"../resources/mdi-icons\");\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon\": HaIcon;\n  }\n}\n\ncustomElements.define(\"ha-icon\", HaIcon);\n","// From: https://davidwalsh.name/javascript-debounce-function\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// tslint:disable-next-line: ban-types\nexport const debounce = <T extends Function>(\n  func: T,\n  wait,\n  immediate = false\n): T => {\n  let timeout;\n  // @ts-ignore\n  return function(...args) {\n    // tslint:disable:no-this-assignment\n    // @ts-ignore\n    const context = this;\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n","import { fireEvent } from \"../../common/dom/fire_event\";\n\ninterface BaseDialogParams {\n  confirmText?: string;\n  text?: string;\n  title?: string;\n}\n\nexport interface AlertDialogParams extends BaseDialogParams {\n  confirm?: () => void;\n}\n\nexport interface ConfirmationDialogParams extends BaseDialogParams {\n  dismissText?: string;\n  confirm?: () => void;\n  cancel?: () => void;\n}\n\nexport interface PromptDialogParams extends BaseDialogParams {\n  inputLabel?: string;\n  inputType?: string;\n  defaultValue?: string;\n  confirm?: (out?: string) => void;\n}\n\nexport interface DialogParams\n  extends ConfirmationDialogParams,\n    PromptDialogParams {\n  confirm?: (out?: string) => void;\n  confirmation?: boolean;\n  prompt?: boolean;\n}\n\nexport const loadGenericDialog = () =>\n  import(/* webpackChunkName: \"confirmation\" */ \"./dialog-box\");\n\nconst showDialogHelper = (\n  element: HTMLElement,\n  dialogParams: DialogParams,\n  extra?: {\n    confirmation?: DialogParams[\"confirmation\"];\n    prompt?: DialogParams[\"prompt\"];\n  }\n) =>\n  new Promise((resolve) => {\n    const origCancel = dialogParams.cancel;\n    const origConfirm = dialogParams.confirm;\n\n    fireEvent(element, \"show-dialog\", {\n      dialogTag: \"dialog-box\",\n      dialogImport: loadGenericDialog,\n      dialogParams: {\n        ...dialogParams,\n        ...extra,\n        cancel: () => {\n          resolve(extra?.prompt ? null : false);\n          if (origCancel) {\n            origCancel();\n          }\n        },\n        confirm: (out) => {\n          resolve(extra?.prompt ? out : true);\n          if (origConfirm) {\n            origConfirm(out);\n          }\n        },\n      },\n    });\n  });\n\nexport const showAlertDialog = (\n  element: HTMLElement,\n  dialogParams: AlertDialogParams\n) => showDialogHelper(element, dialogParams);\n\nexport const showConfirmationDialog = (\n  element: HTMLElement,\n  dialogParams: ConfirmationDialogParams\n) =>\n  showDialogHelper(element, dialogParams, { confirmation: true }) as Promise<\n    boolean\n  >;\n\nexport const showPromptDialog = (\n  element: HTMLElement,\n  dialogParams: PromptDialogParams\n) =>\n  showDialogHelper(element, dialogParams, { prompt: true }) as Promise<\n    null | string\n  >;\n","export const compare = (a: string, b: string) => {\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n\n  return 0;\n};\n\nexport const caseInsensitiveCompare = (a: string, b: string) =>\n  compare(a.toLowerCase(), b.toLowerCase());\n","import {\n  LitElement,\n  property,\n  TemplateResult,\n  html,\n  customElement,\n  css,\n  CSSResult,\n  PropertyValues,\n} from \"lit-element\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-paper-icon-button-arrow-prev\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport { Route, HomeAssistant } from \"../types\";\nimport { navigate } from \"../common/navigate\";\nimport \"@material/mwc-ripple\";\nimport { isComponentLoaded } from \"../common/config/is_component_loaded\";\nimport memoizeOne from \"memoize-one\";\n\nexport interface PageNavigation {\n  path: string;\n  translationKey?: string;\n  component?: string;\n  name?: string;\n  core?: boolean;\n  advancedOnly?: boolean;\n  icon?: string;\n  info?: any;\n}\n\n@customElement(\"hass-tabs-subpage\")\nclass HassTabsSubpage extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property({ type: String, attribute: \"back-path\" }) public backPath?: string;\n  @property() public backCallback?: () => void;\n  @property({ type: Boolean }) public hassio = false;\n  @property() public route!: Route;\n  @property() public tabs!: PageNavigation[];\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n  @property() private _activeTab: number = -1;\n\n  private _getTabs = memoizeOne(\n    (\n      tabs: PageNavigation[],\n      activeTab: number,\n      showAdvanced: boolean | undefined,\n      _components,\n      _language\n    ) => {\n      const shownTabs = tabs.filter(\n        (page) =>\n          (!page.component ||\n            page.core ||\n            isComponentLoaded(this.hass, page.component)) &&\n          (!page.advancedOnly || showAdvanced)\n      );\n\n      return shownTabs.map(\n        (page, index) => html`\n          <div\n            class=\"tab ${classMap({\n              active: index === activeTab,\n            })}\"\n            @click=${this._tabTapped}\n            .path=${page.path}\n          >\n            ${this.narrow\n              ? html`\n                  <ha-icon .icon=${page.icon}></ha-icon>\n                `\n              : \"\"}\n            ${!this.narrow || index === activeTab\n              ? html`\n                  <span class=\"name\"\n                    >${page.translationKey\n                      ? this.hass.localize(page.translationKey)\n                      : name}</span\n                  >\n                `\n              : \"\"}\n            <mwc-ripple></mwc-ripple>\n          </div>\n        `\n      );\n    }\n  );\n\n  protected updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"route\")) {\n      this._activeTab = this.tabs.findIndex((tab) =>\n        this.route.prefix.includes(tab.path)\n      );\n    }\n  }\n\n  protected render(): TemplateResult {\n    const tabs = this._getTabs(\n      this.tabs,\n      this._activeTab,\n      this.hass.userData?.showAdvanced,\n      this.hass.config.components,\n      this.hass.language\n    );\n\n    return html`\n      <div class=\"toolbar\">\n        <ha-paper-icon-button-arrow-prev\n          aria-label=\"Back\"\n          .hassio=${this.hassio}\n          @click=${this._backTapped}\n        ></ha-paper-icon-button-arrow-prev>\n        ${this.narrow\n          ? html`\n              <div main-title><slot name=\"header\"></slot></div>\n            `\n          : \"\"}\n        ${tabs.length > 1 || !this.narrow\n          ? html`\n              <div id=\"tabbar\" class=${classMap({ \"bottom-bar\": this.narrow })}>\n                ${tabs}\n              </div>\n            `\n          : \"\"}\n        <div id=\"toolbar-icon\">\n          <slot name=\"toolbar-icon\"></slot>\n        </div>\n      </div>\n      <div class=\"content\">\n        <slot></slot>\n      </div>\n    `;\n  }\n\n  private _tabTapped(ev: MouseEvent): void {\n    navigate(this, (ev.currentTarget as any).path, true);\n  }\n\n  private _backTapped(): void {\n    if (this.backPath) {\n      navigate(this, this.backPath);\n      return;\n    }\n    if (this.backCallback) {\n      this.backCallback();\n      return;\n    }\n    history.back();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: block;\n        height: 100%;\n        background-color: var(--primary-background-color);\n      }\n\n      .toolbar {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        height: 65px;\n        background-color: var(--sidebar-background-color);\n        font-weight: 400;\n        color: var(--sidebar-text-color);\n        border-bottom: 1px solid var(--divider-color);\n        padding: 0 16px;\n        box-sizing: border-box;\n      }\n\n      #tabbar {\n        display: flex;\n        font-size: 14px;\n      }\n\n      #tabbar.bottom-bar {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        padding: 0 16px;\n        box-sizing: border-box;\n        background-color: var(--sidebar-background-color);\n        border-top: 1px solid var(--divider-color);\n        justify-content: space-between;\n        z-index: 1;\n        font-size: 12px;\n        width: 100%;\n      }\n\n      #tabbar:not(.bottom-bar) {\n        margin: auto;\n        left: 50%;\n        position: absolute;\n        transform: translate(-50%, 0);\n      }\n\n      .tab {\n        padding: 0 32px;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        align-items: center;\n        justify-content: center;\n        height: 64px;\n        cursor: pointer;\n      }\n\n      .name {\n        white-space: nowrap;\n      }\n\n      .tab.active {\n        color: var(--primary-color);\n      }\n\n      #tabbar:not(.bottom-bar) .tab.active {\n        border-bottom: 2px solid var(--primary-color);\n      }\n\n      .bottom-bar .tab {\n        padding: 0 16px;\n        width: 20%;\n        min-width: 0;\n      }\n\n      ha-menu-button,\n      ha-paper-icon-button-arrow-prev,\n      ::slotted([slot=\"toolbar-icon\"]) {\n        pointer-events: auto;\n        color: var(--sidebar-icon-color);\n      }\n\n      [main-title] {\n        margin: 0 0 0 24px;\n        line-height: 20px;\n        flex-grow: 1;\n      }\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 65px);\n        overflow-y: auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n\n      #toolbar-icon {\n        position: absolute;\n        right: 16px;\n      }\n\n      :host([narrow]) .content {\n        height: calc(100% - 128px);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-tabs-subpage\": HassTabsSubpage;\n  }\n}\n","export const afterNextRender = (cb: () => void): void => {\n  requestAnimationFrame(() => setTimeout(cb, 0));\n};\n\nexport const nextRender = () => {\n  return new Promise((resolve) => {\n    afterNextRender(resolve);\n  });\n};\n","import {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  query,\n  TemplateResult,\n} from \"lit-element\";\nimport \"../components/data-table/ha-data-table\";\n// tslint:disable-next-line\nimport {\n  HaDataTable,\n  DataTableColumnContainer,\n  DataTableRowData,\n} from \"../components/data-table/ha-data-table\";\nimport \"./hass-tabs-subpage\";\nimport { HomeAssistant, Route } from \"../types\";\n// tslint:disable-next-line\nimport { PageNavigation } from \"./hass-tabs-subpage\";\n\n@customElement(\"hass-tabs-subpage-data-table\")\nexport class HaTabsSubpageDataTable extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public isWide!: boolean;\n  @property({ type: Boolean, reflect: true }) public narrow!: boolean;\n  /**\n   * Object with the columns.\n   * @type {Object}\n   */\n  @property({ type: Object }) public columns: DataTableColumnContainer = {};\n  /**\n   * Data to show in the table.\n   * @type {Array}\n   */\n  @property({ type: Array }) public data: DataTableRowData[] = [];\n  /**\n   * Should rows be selectable.\n   * @type {Boolean}\n   */\n  @property({ type: Boolean }) public selectable = false;\n  /**\n   * Field with a unique id per entry in data.\n   * @type {String}\n   */\n  @property({ type: String }) public id = \"id\";\n  /**\n   * String to filter the data in the data table on.\n   * @type {String}\n   */\n  @property({ type: String }) public filter = \"\";\n  /**\n   * What path to use when the back button is pressed.\n   * @type {String}\n   * @attr back-path\n   */\n  @property({ type: String, attribute: \"back-path\" }) public backPath?: string;\n  /**\n   * Function to call when the back button is pressed.\n   * @type {() => void}\n   */\n  @property() public backCallback?: () => void;\n  @property() public route!: Route;\n  /**\n   * Array of tabs to show on the page.\n   * @type {Array}\n   */\n  @property() public tabs!: PageNavigation[];\n  @query(\"ha-data-table\") private _dataTable!: HaDataTable;\n\n  public clearSelection() {\n    this._dataTable.clearSelection();\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <hass-tabs-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        .backPath=${this.backPath}\n        .backCallback=${this.backCallback}\n        .route=${this.route}\n        .tabs=${this.tabs}\n      >\n        ${this.narrow\n          ? html`\n              <div slot=\"header\">\n                <slot name=\"header\">\n                  <div class=\"search-toolbar\">\n                    <search-input\n                      no-label-float\n                      no-underline\n                      @value-changed=${this._handleSearchChange}\n                    ></search-input>\n                  </div>\n                </slot>\n              </div>\n            `\n          : \"\"}\n        <ha-data-table\n          .columns=${this.columns}\n          .data=${this.data}\n          .filter=${this.filter}\n          .selectable=${this.selectable}\n          .id=${this.id}\n        >\n          ${!this.narrow\n            ? html`\n                <div slot=\"header\">\n                  <slot name=\"header\">\n                    <slot name=\"header\">\n                      <div class=\"table-header\">\n                        <search-input\n                          no-label-float\n                          no-underline\n                          @value-changed=${this._handleSearchChange}\n                        ></search-input></div></slot\n                  ></slot>\n                </div>\n              `\n            : html`\n                <div slot=\"header\"></div>\n              `}\n        </ha-data-table>\n      </hass-tabs-subpage>\n    `;\n  }\n\n  private _handleSearchChange(ev: CustomEvent) {\n    this.filter = ev.detail.value;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      ha-data-table {\n        width: 100%;\n        height: 100%;\n        --data-table-border-width: 0;\n      }\n      :host(:not([narrow])) ha-data-table {\n        height: calc(100vh - 65px);\n        display: block;\n      }\n      .table-header {\n        border-bottom: 1px solid rgba(var(--rgb-primary-text-color), 0.12);\n      }\n      .search-toolbar {\n        margin-left: -24px;\n        color: var(--secondary-text-color);\n      }\n      search-input {\n        position: relative;\n        top: 2px;\n      }\n    `;\n  }\n}\n","import { fireEvent } from \"../../../../common/dom/fire_event\";\nimport {\n  LovelaceDashboard,\n  LovelaceDashboardMutableParams,\n  LovelaceDashboardCreateParams,\n} from \"../../../../data/lovelace\";\n\nexport interface LovelaceDashboardDetailsDialogParams {\n  dashboard?: LovelaceDashboard;\n  urlPath?: string;\n  createDashboard: (values: LovelaceDashboardCreateParams) => Promise<unknown>;\n  updateDashboard: (\n    updates: Partial<LovelaceDashboardMutableParams>\n  ) => Promise<unknown>;\n  removeDashboard: () => Promise<boolean>;\n}\n\nexport const loadDashboardDetailDialog = () =>\n  import(\n    /* webpackChunkName: \"lovelace-dashboard-detail-dialog\" */ \"./dialog-lovelace-dashboard-detail\"\n  );\n\nexport const showDashboardDetailDialog = (\n  element: HTMLElement,\n  dialogParams: LovelaceDashboardDetailsDialogParams\n) => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-lovelace-dashboard-detail\",\n    dialogImport: loadDashboardDetailDialog,\n    dialogParams,\n  });\n};\n","import {\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n  CSSResult,\n  css,\n} from \"lit-element\";\nimport memoize from \"memoize-one\";\nimport \"@polymer/paper-tooltip/paper-tooltip\";\nimport {\n  DataTableColumnContainer,\n  RowClickedEvent,\n} from \"../../../../components/data-table/ha-data-table\";\nimport \"../../../../components/ha-icon\";\nimport \"../../../../layouts/hass-loading-screen\";\nimport \"../../../../layouts/hass-tabs-subpage-data-table\";\nimport { HomeAssistant, Route } from \"../../../../types\";\nimport {\n  LovelaceDashboard,\n  fetchDashboards,\n  createDashboard,\n  updateDashboard,\n  deleteDashboard,\n  LovelaceDashboardCreateParams,\n  LovelacePanelConfig,\n} from \"../../../../data/lovelace\";\nimport { showDashboardDetailDialog } from \"./show-dialog-lovelace-dashboard-detail\";\nimport { compare } from \"../../../../common/string/compare\";\nimport { showConfirmationDialog } from \"../../../../dialogs/generic/show-dialog-box\";\nimport { lovelaceTabs } from \"../ha-config-lovelace\";\nimport { navigate } from \"../../../../common/navigate\";\n\n@customElement(\"ha-config-lovelace-dashboards\")\nexport class HaConfigLovelaceDashboards extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public isWide!: boolean;\n  @property() public narrow!: boolean;\n  @property() public route!: Route;\n  @property() private _dashboards: LovelaceDashboard[] = [];\n\n  private _columns = memoize(\n    (narrow: boolean, _language, dashboards): DataTableColumnContainer => {\n      const columns: DataTableColumnContainer = {\n        icon: {\n          title: \"\",\n          type: \"icon\",\n          template: (icon) =>\n            icon\n              ? html`\n                  <ha-icon slot=\"item-icon\" .icon=${icon}></ha-icon>\n                `\n              : html``,\n        },\n        title: {\n          title: this.hass.localize(\n            \"ui.panel.config.lovelace.dashboards.picker.headers.title\"\n          ),\n          sortable: true,\n          filterable: true,\n          direction: \"asc\",\n          grows: true,\n          template: (title, dashboard: any) => {\n            const titleTemplate = html`\n              ${title}\n              ${dashboard.default\n                ? html`\n                    <ha-icon\n                      style=\"padding-left: 10px;\"\n                      icon=\"hass:check-circle-outline\"\n                    ></ha-icon>\n                    <paper-tooltip>\n                      This is the default dashdoard.\n                    </paper-tooltip>\n                  `\n                : \"\"}\n            `;\n            return narrow\n              ? html`\n                  ${titleTemplate}\n                  <div class=\"secondary\">\n                    ${this.hass.localize(\n                      `ui.panel.config.lovelace.dashboards.conf_mode.${dashboard.mode}`\n                    )}${dashboard.filename\n                      ? html`\n                          - ${dashboard.filename}\n                        `\n                      : \"\"}\n                  </div>\n                `\n              : titleTemplate;\n          },\n        },\n      };\n\n      if (!narrow) {\n        columns.mode = {\n          title: this.hass.localize(\n            \"ui.panel.config.lovelace.dashboards.picker.headers.conf_mode\"\n          ),\n          sortable: true,\n          filterable: true,\n          width: \"15%\",\n          template: (mode) =>\n            html`\n              ${this.hass.localize(\n                `ui.panel.config.lovelace.dashboards.conf_mode.${mode}`\n              ) || mode}\n            `,\n        };\n        if (dashboards.some((dashboard) => dashboard.filename)) {\n          columns.filename = {\n            title: this.hass.localize(\n              \"ui.panel.config.lovelace.dashboards.picker.headers.filename\"\n            ),\n            width: \"15%\",\n            sortable: true,\n            filterable: true,\n          };\n        }\n        columns.require_admin = {\n          title: this.hass.localize(\n            \"ui.panel.config.lovelace.dashboards.picker.headers.require_admin\"\n          ),\n          sortable: true,\n          type: \"icon\",\n          width: \"100px\",\n          template: (requireAdmin: boolean) =>\n            requireAdmin\n              ? html`\n                  <ha-icon icon=\"hass:check\"></ha-icon>\n                `\n              : html`\n                  -\n                `,\n        };\n        columns.show_in_sidebar = {\n          title: this.hass.localize(\n            \"ui.panel.config.lovelace.dashboards.picker.headers.sidebar\"\n          ),\n          type: \"icon\",\n          width: \"100px\",\n          template: (sidebar) =>\n            sidebar\n              ? html`\n                  <ha-icon icon=\"hass:check\"></ha-icon>\n                `\n              : html`\n                  -\n                `,\n        };\n      }\n\n      columns.url_path = {\n        title: \"\",\n        filterable: true,\n        width: \"75px\",\n        template: (urlPath) =>\n          narrow\n            ? html`\n                <paper-icon-button\n                  icon=\"hass:open-in-new\"\n                  .urlPath=${urlPath}\n                  @click=${this._navigate}\n                ></paper-icon-button>\n              `\n            : html`\n                <mwc-button .urlPath=${urlPath} @click=${this._navigate}\n                  >${this.hass.localize(\n                    \"ui.panel.config.lovelace.dashboards.picker.open\"\n                  )}</mwc-button\n                >\n              `,\n      };\n\n      return columns;\n    }\n  );\n\n  private _getItems = memoize((dashboards: LovelaceDashboard[]) => {\n    const defaultMode = (this.hass.panels?.lovelace\n      ?.config as LovelacePanelConfig).mode;\n    const isDefault =\n      !localStorage.defaultPage || localStorage.defaultPage === \"lovelace\";\n    return [\n      {\n        icon: \"hass:view-dashboard\",\n        title: this.hass.localize(\"panel.states\"),\n        default: isDefault,\n        sidebar: isDefault,\n        require_admin: false,\n        url_path: \"lovelace\",\n        mode: defaultMode,\n        filename: defaultMode === \"yaml\" ? \"ui-lovelace.yaml\" : \"\",\n      },\n      ...dashboards.map((dashboard) => {\n        return {\n          ...dashboard,\n          default: localStorage.defaultPage === dashboard.url_path,\n        };\n      }),\n    ];\n  });\n\n  protected render(): TemplateResult {\n    if (!this.hass || this._dashboards === undefined) {\n      return html`\n        <hass-loading-screen></hass-loading-screen>\n      `;\n    }\n\n    return html`\n      <hass-tabs-subpage-data-table\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        back-path=\"/config\"\n        .route=${this.route}\n        .tabs=${lovelaceTabs}\n        .columns=${this._columns(\n          this.narrow,\n          this.hass.language,\n          this._dashboards\n        )}\n        .data=${this._getItems(this._dashboards)}\n        @row-click=${this._editDashboard}\n        id=\"url_path\"\n      >\n      </hass-tabs-subpage-data-table>\n      <ha-fab\n        ?is-wide=${this.isWide}\n        ?narrow=${this.narrow}\n        icon=\"hass:plus\"\n        title=\"${this.hass.localize(\n          \"ui.panel.config.lovelace.dashboards.picker.add_dashboard\"\n        )}\"\n        @click=${this._addDashboard}\n      ></ha-fab>\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    this._getDashboards();\n  }\n\n  private async _getDashboards() {\n    this._dashboards = await fetchDashboards(this.hass);\n  }\n\n  private _navigate(ev: Event) {\n    ev.stopPropagation();\n    const url = `/${(ev.target as any).urlPath}`;\n    navigate(this, url);\n  }\n\n  private _editDashboard(ev: CustomEvent) {\n    const urlPath = (ev.detail as RowClickedEvent).id;\n    const dashboard = this._dashboards.find((res) => res.url_path === urlPath);\n    this._openDialog(dashboard, urlPath);\n  }\n\n  private _addDashboard() {\n    this._openDialog();\n  }\n\n  private async _openDialog(\n    dashboard?: LovelaceDashboard,\n    urlPath?: string\n  ): Promise<void> {\n    showDashboardDetailDialog(this, {\n      dashboard,\n      urlPath,\n      createDashboard: async (values: LovelaceDashboardCreateParams) => {\n        const created = await createDashboard(this.hass!, values);\n        this._dashboards = this._dashboards!.concat(\n          created\n        ).sort((res1, res2) => compare(res1.url_path, res2.url_path));\n      },\n      updateDashboard: async (values) => {\n        const updated = await updateDashboard(\n          this.hass!,\n          dashboard!.id,\n          values\n        );\n        this._dashboards = this._dashboards!.map((res) =>\n          res === dashboard ? updated : res\n        );\n      },\n      removeDashboard: async () => {\n        if (\n          !(await showConfirmationDialog(this, {\n            text: this.hass!.localize(\n              \"ui.panel.config.lovelace.dashboards.confirm_delete\"\n            ),\n          }))\n        ) {\n          return false;\n        }\n\n        try {\n          await deleteDashboard(this.hass!, dashboard!.id);\n          this._dashboards = this._dashboards!.filter(\n            (res) => res !== dashboard\n          );\n          return true;\n        } catch (err) {\n          return false;\n        }\n      },\n    });\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      ha-fab {\n        position: fixed;\n        bottom: 16px;\n        right: 16px;\n        z-index: 1;\n      }\n      ha-fab[is-wide] {\n        bottom: 24px;\n        right: 24px;\n      }\n      ha-fab[narrow] {\n        bottom: 84px;\n      }\n    `;\n  }\n}\n"],"sourceRoot":""}