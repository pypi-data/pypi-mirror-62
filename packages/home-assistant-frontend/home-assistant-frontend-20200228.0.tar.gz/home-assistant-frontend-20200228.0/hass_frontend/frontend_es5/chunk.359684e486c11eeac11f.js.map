{"version":3,"sources":["webpack:///./src/components/ha-card.ts","webpack:///./src/layouts/hass-tabs-subpage.ts","webpack:///./src/components/ha-fab.ts","webpack:///./src/data/user.ts"],"names":["HaCard","property","css","_templateObject","html","_templateObject2","this","header","_templateObject3","_templateObject4","LitElement","customElements","define","customElement","HassTabsSubpage","type","String","attribute","Boolean","reflect","memoizeOne","tabs","activeTab","showAdvanced","_components","_language","filter","page","component","core","isComponentLoaded","_this2","hass","advancedOnly","map","index","classMap","active","_tabTapped","path","narrow","icon","translationKey","localize","name","changedProperties","_this3","_get","_getPrototypeOf","prototype","call","has","_activeTab","findIndex","tab","route","prefix","includes","_this$hass$userData","_getTabs","userData","config","components","language","hassio","_backTapped","_templateObject5","length","_templateObject6","bottom-bar","ev","navigate","currentTarget","backPath","backCallback","history","back","_templateObject7","MwcFab","get","_decorate","_initialize","_MwcFab","F","_MwcFab2","HaFab","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","args","Array","_key","apply","concat","_assertThisInitialized","_inherits","d","kind","key","value","classes","mdc-fab--mini","mini","mdc-fab--exited","exited","mdc-fab--extended","extended","showLabel","label","ripple","disabled","showIconAtEnd","SYSTEM_GROUP_ID_ADMIN","SYSTEM_GROUP_ID_USER","fetchUsers","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","callWS","stop","_x","updateUser","_ref3","_callee3","userId","params","_context3","Object","assign","user_id","_x4","_x5","_x6","deleteUser","_ref4","_callee4","_context4","_x7","_x8"],"mappings":"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","file":"chunk.359684e486c11eeac11f.js","sourcesContent":["import {\n  css,\n  CSSResult,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\nclass HaCard extends LitElement {\n  @property() public header?: string;\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--paper-card-background-color, white)\n        );\n        border-radius: var(--ha-card-border-radius, 2px);\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0 2px 2px 0 rgba(0, 0, 0, 0.14),\n          0 1px 5px 0 rgba(0, 0, 0, 0.12),\n          0 3px 1px -2px rgba(0, 0, 0, 0.2)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        padding: 24px 16px 16px;\n        display: block;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid #e8e8e8;\n        padding: 5px 16px;\n      }\n    `;\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.header\n        ? html`\n            <div class=\"card-header\">${this.header}</div>\n          `\n        : html``}\n      <slot></slot>\n    `;\n  }\n}\n\ncustomElements.define(\"ha-card\", HaCard);\n","import {\n  LitElement,\n  property,\n  TemplateResult,\n  html,\n  customElement,\n  css,\n  CSSResult,\n  PropertyValues,\n} from \"lit-element\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-paper-icon-button-arrow-prev\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport { Route, HomeAssistant } from \"../types\";\nimport { navigate } from \"../common/navigate\";\nimport \"@material/mwc-ripple\";\nimport { isComponentLoaded } from \"../common/config/is_component_loaded\";\nimport memoizeOne from \"memoize-one\";\n\nexport interface PageNavigation {\n  path: string;\n  translationKey?: string;\n  component?: string;\n  name?: string;\n  core?: boolean;\n  advancedOnly?: boolean;\n  icon?: string;\n  info?: any;\n}\n\n@customElement(\"hass-tabs-subpage\")\nclass HassTabsSubpage extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property({ type: String, attribute: \"back-path\" }) public backPath?: string;\n  @property() public backCallback?: () => void;\n  @property({ type: Boolean }) public hassio = false;\n  @property() public route!: Route;\n  @property() public tabs!: PageNavigation[];\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n  @property() private _activeTab: number = -1;\n\n  private _getTabs = memoizeOne(\n    (\n      tabs: PageNavigation[],\n      activeTab: number,\n      showAdvanced: boolean | undefined,\n      _components,\n      _language\n    ) => {\n      const shownTabs = tabs.filter(\n        (page) =>\n          (!page.component ||\n            page.core ||\n            isComponentLoaded(this.hass, page.component)) &&\n          (!page.advancedOnly || showAdvanced)\n      );\n\n      return shownTabs.map(\n        (page, index) => html`\n          <div\n            class=\"tab ${classMap({\n              active: index === activeTab,\n            })}\"\n            @click=${this._tabTapped}\n            .path=${page.path}\n          >\n            ${this.narrow\n              ? html`\n                  <ha-icon .icon=${page.icon}></ha-icon>\n                `\n              : \"\"}\n            ${!this.narrow || index === activeTab\n              ? html`\n                  <span class=\"name\"\n                    >${page.translationKey\n                      ? this.hass.localize(page.translationKey)\n                      : name}</span\n                  >\n                `\n              : \"\"}\n            <mwc-ripple></mwc-ripple>\n          </div>\n        `\n      );\n    }\n  );\n\n  protected updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"route\")) {\n      this._activeTab = this.tabs.findIndex((tab) =>\n        this.route.prefix.includes(tab.path)\n      );\n    }\n  }\n\n  protected render(): TemplateResult {\n    const tabs = this._getTabs(\n      this.tabs,\n      this._activeTab,\n      this.hass.userData?.showAdvanced,\n      this.hass.config.components,\n      this.hass.language\n    );\n\n    return html`\n      <div class=\"toolbar\">\n        <ha-paper-icon-button-arrow-prev\n          aria-label=\"Back\"\n          .hassio=${this.hassio}\n          @click=${this._backTapped}\n        ></ha-paper-icon-button-arrow-prev>\n        ${this.narrow\n          ? html`\n              <div main-title><slot name=\"header\"></slot></div>\n            `\n          : \"\"}\n        ${tabs.length > 1 || !this.narrow\n          ? html`\n              <div id=\"tabbar\" class=${classMap({ \"bottom-bar\": this.narrow })}>\n                ${tabs}\n              </div>\n            `\n          : \"\"}\n        <div id=\"toolbar-icon\">\n          <slot name=\"toolbar-icon\"></slot>\n        </div>\n      </div>\n      <div class=\"content\">\n        <slot></slot>\n      </div>\n    `;\n  }\n\n  private _tabTapped(ev: MouseEvent): void {\n    navigate(this, (ev.currentTarget as any).path, true);\n  }\n\n  private _backTapped(): void {\n    if (this.backPath) {\n      navigate(this, this.backPath);\n      return;\n    }\n    if (this.backCallback) {\n      this.backCallback();\n      return;\n    }\n    history.back();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: block;\n        height: 100%;\n        background-color: var(--primary-background-color);\n      }\n\n      .toolbar {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        height: 65px;\n        background-color: var(--sidebar-background-color);\n        font-weight: 400;\n        color: var(--sidebar-text-color);\n        border-bottom: 1px solid var(--divider-color);\n        padding: 0 16px;\n        box-sizing: border-box;\n      }\n\n      #tabbar {\n        display: flex;\n        font-size: 14px;\n      }\n\n      #tabbar.bottom-bar {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        padding: 0 16px;\n        box-sizing: border-box;\n        background-color: var(--sidebar-background-color);\n        border-top: 1px solid var(--divider-color);\n        justify-content: space-between;\n        z-index: 1;\n        font-size: 12px;\n        width: 100%;\n      }\n\n      #tabbar:not(.bottom-bar) {\n        margin: auto;\n        left: 50%;\n        position: absolute;\n        transform: translate(-50%, 0);\n      }\n\n      .tab {\n        padding: 0 32px;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        align-items: center;\n        justify-content: center;\n        height: 64px;\n        cursor: pointer;\n      }\n\n      .name {\n        white-space: nowrap;\n      }\n\n      .tab.active {\n        color: var(--primary-color);\n      }\n\n      #tabbar:not(.bottom-bar) .tab.active {\n        border-bottom: 2px solid var(--primary-color);\n      }\n\n      .bottom-bar .tab {\n        padding: 0 16px;\n        width: 20%;\n        min-width: 0;\n      }\n\n      ha-menu-button,\n      ha-paper-icon-button-arrow-prev,\n      ::slotted([slot=\"toolbar-icon\"]) {\n        pointer-events: auto;\n        color: var(--sidebar-icon-color);\n      }\n\n      [main-title] {\n        margin: 0 0 0 24px;\n        line-height: 20px;\n        flex-grow: 1;\n      }\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 65px);\n        overflow-y: auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n\n      #toolbar-icon {\n        position: absolute;\n        right: 16px;\n      }\n\n      :host([narrow]) .content {\n        height: calc(100% - 128px);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-tabs-subpage\": HassTabsSubpage;\n  }\n}\n","import { classMap } from \"lit-html/directives/class-map\";\nimport { html, customElement } from \"lit-element\";\nimport { ripple } from \"@material/mwc-ripple/ripple-directive.js\";\n\nimport \"@material/mwc-fab\";\nimport { Constructor } from \"../types\";\n// tslint:disable-next-line\nimport { Fab } from \"@material/mwc-fab\";\n// tslint:disable-next-line\nconst MwcFab = customElements.get(\"mwc-fab\") as Constructor<Fab>;\n\n@customElement(\"ha-fab\")\nexport class HaFab extends MwcFab {\n  // We override the render method because we don't have an icon font and mwc-fab doesn't support our svg-icon sets.\n  // Based on version mwc-fab 0.8\n  protected render() {\n    const classes = {\n      \"mdc-fab--mini\": this.mini,\n      \"mdc-fab--exited\": this.exited,\n      \"mdc-fab--extended\": this.extended,\n    };\n    const showLabel = this.label !== \"\" && this.extended;\n    return html`\n      <button\n        .ripple=\"${ripple()}\"\n        class=\"mdc-fab ${classMap(classes)}\"\n        ?disabled=\"${this.disabled}\"\n        aria-label=\"${this.label || this.icon}\"\n      >\n        ${showLabel && this.showIconAtEnd ? this.label : \"\"}\n        ${this.icon\n          ? html`\n              <ha-icon .icon=${this.icon}></ha-icon>\n            `\n          : \"\"}\n        ${showLabel && !this.showIconAtEnd ? this.label : \"\"}\n      </button>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-fab\": HaFab;\n  }\n}\n","import { HomeAssistant } from \"../types\";\nimport { Credential } from \"./auth\";\n\nexport const SYSTEM_GROUP_ID_ADMIN = \"system-admin\";\nexport const SYSTEM_GROUP_ID_USER = \"system-users\";\nexport const SYSTEM_GROUP_ID_READ_ONLY = \"system-read-only\";\n\nexport interface User {\n  id: string;\n  name: string;\n  is_owner: boolean;\n  is_active: boolean;\n  system_generated: boolean;\n  group_ids: string[];\n  credentials: Credential[];\n}\n\ninterface UpdateUserParams {\n  name?: User[\"name\"];\n  group_ids?: User[\"group_ids\"];\n}\n\nexport const fetchUsers = async (hass: HomeAssistant) =>\n  hass.callWS<User[]>({\n    type: \"config/auth/list\",\n  });\n\nexport const createUser = async (hass: HomeAssistant, name: string) =>\n  hass.callWS<{ user: User }>({\n    type: \"config/auth/create\",\n    name,\n  });\n\nexport const updateUser = async (\n  hass: HomeAssistant,\n  userId: string,\n  params: UpdateUserParams\n) =>\n  hass.callWS<{ user: User }>({\n    ...params,\n    type: \"config/auth/update\",\n    user_id: userId,\n  });\n\nexport const deleteUser = async (hass: HomeAssistant, userId: string) =>\n  hass.callWS<void>({\n    type: \"config/auth/delete\",\n    user_id: userId,\n  });\n"],"sourceRoot":""}