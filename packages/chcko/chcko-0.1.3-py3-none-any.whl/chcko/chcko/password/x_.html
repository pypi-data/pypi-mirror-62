<script>
    //These are just solutions to exercises...
    //The user can, but does not have to make a strong password
    function validate() {
        var password = document.pwd.password.value;
        if (password == "") {
            alert("{{tpassword}}");
            return false;
        }
        var confirmp = document.pwd.confirmp.value;
        if (confirmp == "") {
            alert("{{tconfirm}}");
            return false;
        } else if(confirmp != password){
            alert("{{tnopasswordmatch}}"); 
            return false; 
        }
        return true;
    }
</script>

<h1>{{ ttitle }}</h1>

<p>
{{db.user_email(request.user)}}
</p>

<form method="POST" name=pwd onsubmit='return validate()'>
    <label>{{tselect}}</label>
    <br>
    <label for="fullname">{{tfullname}}</label>
    <input type="text" value="{{request.user.fullname}}" name="fullname"/><br>
    <label for="password">{{tpassword}}</label>
    <input type="password" name="password" /><br>
    <label for="confirmp">{{tconfirm}}*</label>
    <input type="password" name="confirmp" />
    <input type="hidden" name="token" value="{{ defined('token') and token or ''}}" />
    <input type="submit" value="{{ tupdate }}" />
</form>

% include('chcko/main')
