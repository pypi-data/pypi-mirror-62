{"version":3,"sources":["webpack:///./src/dialogs/generic/show-dialog-box.ts","webpack:///./src/layouts/hass-tabs-subpage.ts","webpack:///./src/components/ha-fab.ts","webpack:///./src/components/ha-icon-next.ts","webpack:///./src/util/toast-saved-success.ts","webpack:///./src/data/user.ts","webpack:///./src/panels/config/users/ha-config-user-picker.js","webpack:///./src/panels/config/users/ha-user-editor.ts","webpack:///./src/panels/config/users/ha-config-users.js"],"names":["__webpack_require__","d","__webpack_exports__","showAlertDialog","showConfirmationDialog","showPromptDialog","_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__","loadGenericDialog","Promise","all","e","then","bind","showDialogHelper","element","dialogParams","extra","resolve","origCancel","cancel","origConfirm","confirm","fireEvent","dialogTag","dialogImport","Object","assign","prompt","out","confirmation","customElement","HassTabsSubpage","property","type","String","attribute","Boolean","reflect","changedProperties","_this2","this","_get","_getPrototypeOf","prototype","call","has","_activeTab","tabs","findIndex","tab","route","prefix","includes","path","_this3","html","_templateObject","hassio","_backTapped","classMap","bottom-bar","narrow","map","page","index","component","core","isComponentLoaded","hass","exportOnly","showAdvanced","_templateObject2","active","_tabTapped","_templateObject3","icon","_templateObject4","translationKey","localize","name","ev","navigate","currentTarget","backPath","backCallback","history","back","css","_templateObject5","LitElement","MwcFab","customElements","get","_decorate","_initialize","_MwcFab","F","_MwcFab2","HaFab","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","apply","concat","_assertThisInitialized","_inherits","kind","key","value","classes","mdc-fab--mini","mini","mdc-fab--exited","exited","mdc-fab--extended","extended","showLabel","label","ripple","disabled","showIconAtEnd","HaIconNext","_HaIcon","_possibleConstructorReturn","HaIcon","setTimeout","window","getComputedStyle","direction","define","showSaveSuccessToast","_toast__WEBPACK_IMPORTED_MODULE_0__","el","showToast","message","SYSTEM_GROUP_ID_ADMIN","SYSTEM_GROUP_ID_USER","fetchUsers","updateUser","deleteUser","regeneratorRuntime","async","_context","prev","next","abrupt","callWS","stop","userId","params","_context3","user_id","_context4","registeredDialog","HaUserPicker","EventsMixin","NavigateMixin","LocalizeMixin","PolymerElement","users","isWide","rtl","reflectToAttribute","computed","fire","dialogShowEvent","defaultValue","user","id","group_ids","computeRTL","configSections","persons","dialogClosedCallback","_ref","GROUPS","_name","is_owner","_handleGroupChange","until","updateComplete","groupId","is_active","system_generated","_handlePromptRenameUser","_promptDeleteUser","ha_user_editor_templateObject","newName","awrap","t0","text","_context2","blur","title","inputLabel","_handleRenameUser","selectEl","newGroup","code","_ev","_context5","_deleteUser","haStyle","_templateObject6","HaConfigUsers","ha_config_users_templateObject","observer","_routeData","_user","_users","ha_config_users_get","ha_config_users_getPrototypeOf","_loadData","addEventListener","detail","_debouncer","Debouncer","debounce","timeOut","after","filter","u","a","b"],"mappings":"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","file":"chunk.e2cb8d86b51b99fff96a.js","sourcesContent":["import { fireEvent } from \"../../common/dom/fire_event\";\n\ninterface BaseDialogParams {\n  confirmText?: string;\n  text?: string;\n  title?: string;\n}\n\nexport interface AlertDialogParams extends BaseDialogParams {\n  confirm?: () => void;\n}\n\nexport interface ConfirmationDialogParams extends BaseDialogParams {\n  dismissText?: string;\n  confirm?: () => void;\n  cancel?: () => void;\n}\n\nexport interface PromptDialogParams extends BaseDialogParams {\n  inputLabel?: string;\n  inputType?: string;\n  defaultValue?: string;\n  confirm?: (out?: string) => void;\n}\n\nexport interface DialogParams\n  extends ConfirmationDialogParams,\n    PromptDialogParams {\n  confirm?: (out?: string) => void;\n  confirmation?: boolean;\n  prompt?: boolean;\n}\n\nexport const loadGenericDialog = () =>\n  import(/* webpackChunkName: \"confirmation\" */ \"./dialog-box\");\n\nconst showDialogHelper = (\n  element: HTMLElement,\n  dialogParams: DialogParams,\n  extra?: {\n    confirmation?: DialogParams[\"confirmation\"];\n    prompt?: DialogParams[\"prompt\"];\n  }\n) =>\n  new Promise((resolve) => {\n    const origCancel = dialogParams.cancel;\n    const origConfirm = dialogParams.confirm;\n\n    fireEvent(element, \"show-dialog\", {\n      dialogTag: \"dialog-box\",\n      dialogImport: loadGenericDialog,\n      dialogParams: {\n        ...dialogParams,\n        ...extra,\n        cancel: () => {\n          resolve(extra?.prompt ? null : false);\n          if (origCancel) {\n            origCancel();\n          }\n        },\n        confirm: (out) => {\n          resolve(extra?.prompt ? out : true);\n          if (origConfirm) {\n            origConfirm(out);\n          }\n        },\n      },\n    });\n  });\n\nexport const showAlertDialog = (\n  element: HTMLElement,\n  dialogParams: AlertDialogParams\n) => showDialogHelper(element, dialogParams);\n\nexport const showConfirmationDialog = (\n  element: HTMLElement,\n  dialogParams: ConfirmationDialogParams\n) =>\n  showDialogHelper(element, dialogParams, { confirmation: true }) as Promise<\n    boolean\n  >;\n\nexport const showPromptDialog = (\n  element: HTMLElement,\n  dialogParams: PromptDialogParams\n) =>\n  showDialogHelper(element, dialogParams, { prompt: true }) as Promise<\n    null | string\n  >;\n","import {\n  LitElement,\n  property,\n  TemplateResult,\n  html,\n  customElement,\n  css,\n  CSSResult,\n  PropertyValues,\n} from \"lit-element\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-paper-icon-button-arrow-prev\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport { Route, HomeAssistant } from \"../types\";\nimport { navigate } from \"../common/navigate\";\nimport \"@material/mwc-ripple\";\nimport { isComponentLoaded } from \"../common/config/is_component_loaded\";\n\nexport interface PageNavigation {\n  path: string;\n  translationKey?: string;\n  component?: string;\n  name?: string;\n  core?: boolean;\n  exportOnly?: boolean;\n  icon?: string;\n  info?: any;\n}\n\n@customElement(\"hass-tabs-subpage\")\nclass HassTabsSubpage extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property({ type: String, attribute: \"back-path\" }) public backPath?: string;\n  @property() public backCallback?: () => void;\n  @property({ type: Boolean }) public hassio = false;\n  @property({ type: Boolean }) public showAdvanced = false;\n  @property() public route!: Route;\n  @property() public tabs!: PageNavigation[];\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n  @property() private _activeTab: number = -1;\n\n  protected updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"route\")) {\n      this._activeTab = this.tabs.findIndex((tab) =>\n        this.route.prefix.includes(tab.path)\n      );\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"toolbar\">\n        <ha-paper-icon-button-arrow-prev\n          aria-label=\"Back\"\n          .hassio=${this.hassio}\n          @click=${this._backTapped}\n        ></ha-paper-icon-button-arrow-prev>\n        <div id=\"tabbar\" class=${classMap({ \"bottom-bar\": this.narrow })}>\n          ${this.tabs.map((page, index) =>\n            (!page.component ||\n              page.core ||\n              isComponentLoaded(this.hass, page.component)) &&\n            (!page.exportOnly || this.showAdvanced)\n              ? html`\n                  <div\n                    class=\"tab ${classMap({\n                      active: index === this._activeTab,\n                    })}\"\n                    @click=${this._tabTapped}\n                    .path=${page.path}\n                  >\n                    ${this.narrow\n                      ? html`\n                          <ha-icon .icon=${page.icon}></ha-icon>\n                        `\n                      : \"\"}\n                    ${!this.narrow || index === this._activeTab\n                      ? html`\n                          <span class=\"name\"\n                            >${page.translationKey\n                              ? this.hass.localize(page.translationKey)\n                              : name}</span\n                          >\n                        `\n                      : \"\"}\n                    <mwc-ripple></mwc-ripple>\n                  </div>\n                `\n              : \"\"\n          )}\n        </div>\n\n        <div id=\"toolbar-icon\">\n          <slot name=\"toolbar-icon\"></slot>\n        </div>\n      </div>\n      <div class=\"content\">\n        <slot></slot>\n      </div>\n    `;\n  }\n\n  private _tabTapped(ev: MouseEvent): void {\n    navigate(this, (ev.currentTarget as any).path, true);\n  }\n\n  private _backTapped(): void {\n    if (this.backPath) {\n      navigate(this, this.backPath);\n      return;\n    }\n    if (this.backCallback) {\n      this.backCallback();\n      return;\n    }\n    history.back();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: block;\n        height: 100%;\n        background-color: var(--primary-background-color);\n      }\n\n      .toolbar {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        height: 65px;\n        background-color: var(--sidebar-background-color);\n        font-weight: 400;\n        color: var(--sidebar-text-color);\n        border-bottom: 1px solid var(--divider-color);\n        padding: 0 16px;\n        box-sizing: border-box;\n      }\n\n      :host([narrow]) .toolbar {\n        background-color: var(--primary-background-color);\n        border-bottom: none;\n      }\n\n      #tabbar {\n        display: flex;\n        font-size: 14px;\n      }\n\n      #tabbar.bottom-bar {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        padding: 0 16px;\n        box-sizing: border-box;\n        background-color: var(--sidebar-background-color);\n        border-top: 1px solid var(--divider-color);\n        justify-content: space-between;\n        z-index: 1;\n        font-size: 12px;\n        width: 100%;\n      }\n\n      #tabbar:not(.bottom-bar) {\n        margin: auto;\n        left: 50%;\n        position: absolute;\n        transform: translate(-50%, 0);\n      }\n\n      .tab {\n        padding: 0 32px;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        align-items: center;\n        justify-content: center;\n        height: 64px;\n        cursor: pointer;\n      }\n\n      .name {\n        white-space: nowrap;\n      }\n\n      .tab.active {\n        color: var(--primary-color);\n      }\n\n      #tabbar:not(.bottom-bar) .tab.active {\n        border-bottom: 2px solid var(--primary-color);\n      }\n\n      .bottom-bar .tab {\n        padding: 0 16px;\n        width: 20%;\n        min-width: 0;\n      }\n\n      ha-menu-button,\n      ha-paper-icon-button-arrow-prev,\n      ::slotted([slot=\"toolbar-icon\"]) {\n        pointer-events: auto;\n        color: var(--sidebar-icon-color);\n      }\n\n      [main-title] {\n        margin: 0 0 0 24px;\n        line-height: 20px;\n        flex-grow: 1;\n      }\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 65px);\n        overflow-y: auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n\n      #toolbar-icon {\n        position: absolute;\n        right: 16px;\n      }\n\n      :host([narrow]) .content {\n        height: calc(100% - 128px);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-tabs-subpage\": HassTabsSubpage;\n  }\n}\n","import { classMap } from \"lit-html/directives/class-map\";\nimport { html, customElement } from \"lit-element\";\nimport { ripple } from \"@material/mwc-ripple/ripple-directive.js\";\n\nimport \"@material/mwc-fab\";\nimport { Constructor } from \"../types\";\n// tslint:disable-next-line\nimport { Fab } from \"@material/mwc-fab\";\n// tslint:disable-next-line\nconst MwcFab = customElements.get(\"mwc-fab\") as Constructor<Fab>;\n\n@customElement(\"ha-fab\")\nexport class HaFab extends MwcFab {\n  // We override the render method because we don't have an icon font and mwc-fab doesn't support our svg-icon sets.\n  // Based on version mwc-fab 0.8\n  protected render() {\n    const classes = {\n      \"mdc-fab--mini\": this.mini,\n      \"mdc-fab--exited\": this.exited,\n      \"mdc-fab--extended\": this.extended,\n    };\n    const showLabel = this.label !== \"\" && this.extended;\n    return html`\n      <button\n        .ripple=\"${ripple()}\"\n        class=\"mdc-fab ${classMap(classes)}\"\n        ?disabled=\"${this.disabled}\"\n        aria-label=\"${this.label || this.icon}\"\n      >\n        ${showLabel && this.showIconAtEnd ? this.label : \"\"}\n        ${this.icon\n          ? html`\n              <ha-icon .icon=${this.icon}></ha-icon>\n            `\n          : \"\"}\n        ${showLabel && !this.showIconAtEnd ? this.label : \"\"}\n      </button>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-fab\": HaFab;\n  }\n}\n","import \"@polymer/iron-icon/iron-icon\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { HaIcon } from \"./ha-icon\";\n\nexport class HaIconNext extends HaIcon {\n  public connectedCallback() {\n    super.connectedCallback();\n\n    // wait to check for direction since otherwise direction is wrong even though top level is RTL\n    setTimeout(() => {\n      this.icon =\n        window.getComputedStyle(this).direction === \"ltr\"\n          ? \"hass:chevron-right\"\n          : \"hass:chevron-left\";\n    }, 100);\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon-next\": HaIconNext;\n  }\n}\n\ncustomElements.define(\"ha-icon-next\", HaIconNext);\n","import { showToast } from \"./toast\";\nimport { HomeAssistant } from \"../types\";\n\nexport const showSaveSuccessToast = (el: HTMLElement, hass: HomeAssistant) =>\n  showToast(el, {\n    message: hass!.localize(\"ui.common.successfully_saved\"),\n  });\n","import { HomeAssistant } from \"../types\";\nimport { Credential } from \"./auth\";\n\nexport const SYSTEM_GROUP_ID_ADMIN = \"system-admin\";\nexport const SYSTEM_GROUP_ID_USER = \"system-users\";\nexport const SYSTEM_GROUP_ID_READ_ONLY = \"system-read-only\";\n\nexport interface User {\n  id: string;\n  name: string;\n  is_owner: boolean;\n  is_active: boolean;\n  system_generated: boolean;\n  group_ids: string[];\n  credentials: Credential[];\n}\n\ninterface UpdateUserParams {\n  name?: User[\"name\"];\n  group_ids?: User[\"group_ids\"];\n}\n\nexport const fetchUsers = async (hass: HomeAssistant) =>\n  hass.callWS<User[]>({\n    type: \"config/auth/list\",\n  });\n\nexport const createUser = async (hass: HomeAssistant, name: string) =>\n  hass.callWS<{ user: User }>({\n    type: \"config/auth/create\",\n    name,\n  });\n\nexport const updateUser = async (\n  hass: HomeAssistant,\n  userId: string,\n  params: UpdateUserParams\n) =>\n  hass.callWS<{ user: User }>({\n    ...params,\n    type: \"config/auth/update\",\n    user_id: userId,\n  });\n\nexport const deleteUser = async (hass: HomeAssistant, userId: string) =>\n  hass.callWS<void>({\n    type: \"config/auth/delete\",\n    user_id: userId,\n  });\n","import \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../../layouts/hass-tabs-subpage\";\nimport \"../../../components/ha-icon-next\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-fab\";\n\nimport LocalizeMixin from \"../../../mixins/localize-mixin\";\nimport NavigateMixin from \"../../../mixins/navigate-mixin\";\nimport { EventsMixin } from \"../../../mixins/events-mixin\";\n\nimport { computeRTL } from \"../../../common/util/compute_rtl\";\nimport { configSections } from \"../ha-panel-config\";\n\nlet registeredDialog = false;\n\n/*\n * @appliesMixin LocalizeMixin\n * @appliesMixin NavigateMixin\n * @appliesMixin EventsMixin\n */\nclass HaUserPicker extends EventsMixin(\n  NavigateMixin(LocalizeMixin(PolymerElement))\n) {\n  static get template() {\n    return html`\n      <style>\n        ha-fab {\n          position: fixed;\n          bottom: 16px;\n          right: 16px;\n          z-index: 1;\n        }\n        ha-fab[is-wide] {\n          bottom: 24px;\n          right: 24px;\n        }\n        ha-fab[rtl] {\n          right: auto;\n          left: 16px;\n        }\n        ha-fab[narrow] {\n          bottom: 84px;\n        }\n        ha-fab[rtl][is-wide] {\n          bottom: 24px;\n          right: auto;\n          left: 24px;\n        }\n\n        ha-card {\n          max-width: 600px;\n          margin: 16px auto;\n          overflow: hidden;\n        }\n        a {\n          text-decoration: none;\n          color: var(--primary-text-color);\n        }\n      </style>\n\n      <hass-tabs-subpage\n        hass=\"[[hass]]\"\n        narrow=\"[[narrow]]\"\n        route=\"[[route]]\"\n        back-path=\"/config\"\n        tabs=\"[[_computeTabs()]]\"\n      >\n        <ha-card>\n          <template is=\"dom-repeat\" items=\"[[users]]\" as=\"user\">\n            <a href=\"[[_computeUrl(user)]]\">\n              <paper-item>\n                <paper-item-body two-line>\n                  <div>[[_withDefault(user.name, 'Unnamed User')]]</div>\n                  <div secondary=\"\">\n                    [[_computeGroup(localize, user)]]\n                    <template is=\"dom-if\" if=\"[[user.system_generated]]\">\n                      -\n                      [[localize('ui.panel.config.users.picker.system_generated')]]\n                    </template>\n                  </div>\n                </paper-item-body>\n                <ha-icon-next></ha-icon-next>\n              </paper-item>\n            </a>\n          </template>\n        </ha-card>\n\n        <ha-fab\n          is-wide$=\"[[isWide]]\"\n          narrow$=\"[[narrow]]\"\n          icon=\"hass:plus\"\n          title=\"[[localize('ui.panel.config.users.picker.add_user')]]\"\n          on-click=\"_addUser\"\n          rtl$=\"[[rtl]]\"\n        ></ha-fab>\n      </hass-tabs-subpage>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      users: Array,\n      isWide: Boolean,\n      narrow: Boolean,\n      route: Object,\n      rtl: {\n        type: Boolean,\n        reflectToAttribute: true,\n        computed: \"_computeRTL(hass)\",\n      },\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (!registeredDialog) {\n      registeredDialog = true;\n      this.fire(\"register-dialog\", {\n        dialogShowEvent: \"show-add-user\",\n        dialogTag: \"ha-dialog-add-user\",\n        dialogImport: () =>\n          import(\n            /* webpackChunkName: \"ha-dialog-add-user\" */ \"./ha-dialog-add-user\"\n          ),\n      });\n    }\n  }\n\n  _withDefault(value, defaultValue) {\n    return value || defaultValue;\n  }\n\n  _computeUrl(user) {\n    return `/config/users/${user.id}`;\n  }\n\n  _computeGroup(localize, user) {\n    return localize(`groups.${user.group_ids[0]}`);\n  }\n\n  _computeRTL(hass) {\n    return computeRTL(hass);\n  }\n\n  _computeTabs() {\n    return configSections.persons;\n  }\n\n  _addUser() {\n    this.fire(\"show-add-user\", {\n      hass: this.hass,\n      dialogClosedCallback: async ({ userId }) => {\n        this.fire(\"reload-users\");\n        if (userId) this.navigate(`/config/users/${userId}`);\n      },\n    });\n  }\n}\n\ncustomElements.define(\"ha-config-user-picker\", HaUserPicker);\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  customElement,\n  CSSResultArray,\n  css,\n  property,\n} from \"lit-element\";\nimport { until } from \"lit-html/directives/until\";\nimport \"@material/mwc-button\";\n\nimport \"../../../layouts/hass-tabs-subpage\";\nimport { haStyle } from \"../../../resources/styles\";\nimport \"../../../components/ha-card\";\nimport { HomeAssistant, Route } from \"../../../types\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { navigate } from \"../../../common/navigate\";\nimport {\n  User,\n  deleteUser,\n  updateUser,\n  SYSTEM_GROUP_ID_USER,\n  SYSTEM_GROUP_ID_ADMIN,\n} from \"../../../data/user\";\nimport { showSaveSuccessToast } from \"../../../util/toast-saved-success\";\nimport {\n  showAlertDialog,\n  showConfirmationDialog,\n  showPromptDialog,\n} from \"../../../dialogs/generic/show-dialog-box\";\nimport { configSections } from \"../ha-panel-config\";\n\ndeclare global {\n  interface HASSDomEvents {\n    \"reload-users\": undefined;\n  }\n}\n\nconst GROUPS = [SYSTEM_GROUP_ID_USER, SYSTEM_GROUP_ID_ADMIN];\n\n@customElement(\"ha-user-editor\")\nclass HaUserEditor extends LitElement {\n  @property() public hass?: HomeAssistant;\n  @property() public user?: User;\n  @property() public narrow?: boolean;\n  @property() public route!: Route;\n\n  protected render(): TemplateResult {\n    const hass = this.hass;\n    const user = this.user;\n    if (!hass || !user) {\n      return html``;\n    }\n\n    return html`\n      <hass-tabs-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        .route=${this.route}\n        .tabs=${configSections.persons}\n      >\n        <ha-card .header=${this._name}>\n          <table class=\"card-content\">\n            <tr>\n              <td>${hass.localize(\"ui.panel.config.users.editor.id\")}</td>\n              <td>${user.id}</td>\n            </tr>\n            <tr>\n              <td>${hass.localize(\"ui.panel.config.users.editor.owner\")}</td>\n              <td>${user.is_owner}</td>\n            </tr>\n            <tr>\n              <td>${hass.localize(\"ui.panel.config.users.editor.group\")}</td>\n              <td>\n                <select\n                  @change=${this._handleGroupChange}\n                  .value=${until(\n                    this.updateComplete.then(() => user.group_ids[0])\n                  )}\n                >\n                  ${GROUPS.map(\n                    (groupId) => html`\n                      <option value=${groupId}>\n                        ${hass.localize(`groups.${groupId}`)}\n                      </option>\n                    `\n                  )}\n                </select>\n              </td>\n            </tr>\n            ${user.group_ids[0] === SYSTEM_GROUP_ID_USER\n              ? html`\n                  <tr>\n                    <td colspan=\"2\" class=\"user-experiment\">\n                      The users group is a work in progress. The user will be\n                      unable to administer the instance via the UI. We're still\n                      auditing all management API endpoints to ensure that they\n                      correctly limit access to administrators.\n                    </td>\n                  </tr>\n                `\n              : \"\"}\n\n            <tr>\n              <td>${hass.localize(\"ui.panel.config.users.editor.active\")}</td>\n              <td>${user.is_active}</td>\n            </tr>\n            <tr>\n              <td>\n                ${hass.localize(\n                  \"ui.panel.config.users.editor.system_generated\"\n                )}\n              </td>\n              <td>${user.system_generated}</td>\n            </tr>\n          </table>\n\n          <div class=\"card-actions\">\n            <mwc-button @click=${this._handlePromptRenameUser}>\n              ${hass.localize(\"ui.panel.config.users.editor.rename_user\")}\n            </mwc-button>\n            <mwc-button\n              class=\"warning\"\n              @click=${this._promptDeleteUser}\n              .disabled=${user.system_generated}\n            >\n              ${hass.localize(\"ui.panel.config.users.editor.delete_user\")}\n            </mwc-button>\n            ${user.system_generated\n              ? html`\n                  ${hass.localize(\n                    \"ui.panel.config.users.editor.system_generated_users_not_removable\"\n                  )}\n                `\n              : \"\"}\n          </div>\n        </ha-card>\n      </hass-tabs-subpage>\n    `;\n  }\n\n  private get _name() {\n    return (\n      this.user &&\n      (this.user.name ||\n        this.hass!.localize(\"ui.panel.config.users.editor.unnamed_user\"))\n    );\n  }\n\n  private async _handleRenameUser(newName?: string) {\n    if (newName === null || newName === this.user!.name) {\n      return;\n    }\n\n    try {\n      await updateUser(this.hass!, this.user!.id, {\n        name: newName,\n      });\n      fireEvent(this, \"reload-users\");\n    } catch (err) {\n      showAlertDialog(this, {\n        text: `${this.hass!.localize(\n          \"ui.panel.config.users.editor.user_rename_failed\"\n        )} ${err.message}`,\n      });\n    }\n  }\n\n  private async _handlePromptRenameUser(ev): Promise<void> {\n    ev.currentTarget.blur();\n    showPromptDialog(this, {\n      title: this.hass!.localize(\"ui.panel.config.users.editor.enter_new_name\"),\n      defaultValue: this.user!.name,\n      inputLabel: this.hass!.localize(\"ui.panel.config.users.add_user.name\"),\n      confirm: (text) => this._handleRenameUser(text),\n    });\n  }\n\n  private async _handleGroupChange(ev): Promise<void> {\n    const selectEl = ev.currentTarget as HTMLSelectElement;\n    const newGroup = selectEl.value;\n    try {\n      await updateUser(this.hass!, this.user!.id, {\n        group_ids: [newGroup],\n      });\n      showSaveSuccessToast(this, this.hass!);\n      fireEvent(this, \"reload-users\");\n    } catch (err) {\n      showAlertDialog(this, {\n        text: `${this.hass!.localize(\n          \"ui.panel.config.users.editor.group_update_failed\"\n        )} ${err.message}`,\n      });\n      selectEl.value = this.user!.group_ids[0];\n    }\n  }\n\n  private async _deleteUser() {\n    try {\n      await deleteUser(this.hass!, this.user!.id);\n    } catch (err) {\n      showAlertDialog(this, {\n        text: err.code,\n      });\n      return;\n    }\n    fireEvent(this, \"reload-users\");\n    navigate(this, \"/config/users\");\n  }\n\n  private async _promptDeleteUser(_ev): Promise<void> {\n    showConfirmationDialog(this, {\n      text: this.hass!.localize(\n        \"ui.panel.config.users.editor.confirm_user_deletion\",\n        \"name\",\n        this._name\n      ),\n      confirm: () => this._deleteUser(),\n    });\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      haStyle,\n      css`\n        .card-actions {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        ha-card {\n          max-width: 600px;\n          margin: 16px auto 16px;\n        }\n        hass-subpage ha-card:first-of-type {\n          direction: ltr;\n        }\n        table {\n          width: 100%;\n        }\n        td {\n          vertical-align: top;\n        }\n        .user-experiment {\n          padding: 8px 0;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-user-editor\": HaUserEditor;\n  }\n}\n","import \"@polymer/app-route/app-route\";\nimport { timeOut } from \"@polymer/polymer/lib/utils/async\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport NavigateMixin from \"../../../mixins/navigate-mixin\";\n\nimport \"./ha-config-user-picker\";\nimport \"./ha-user-editor\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { fetchUsers } from \"../../../data/user\";\n\n/*\n * @appliesMixin NavigateMixin\n */\nclass HaConfigUsers extends NavigateMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <app-route\n        route=\"[[route]]\"\n        pattern=\"/:user\"\n        data=\"{{_routeData}}\"\n      ></app-route>\n\n      <template is=\"dom-if\" if='[[_equals(_routeData.user, \"picker\")]]'>\n        <ha-config-user-picker\n          hass=\"[[hass]]\"\n          users=\"[[_users]]\"\n          is-wide=\"[[isWide]]\"\n          narrow=\"[[narrow]]\"\n          route=\"[[route]]\"\n        ></ha-config-user-picker>\n      </template>\n      <template\n        is=\"dom-if\"\n        if='[[!_equals(_routeData.user, \"picker\")]]'\n        restamp\n      >\n        <ha-user-editor\n          hass=\"[[hass]]\"\n          user=\"[[_computeUser(_users, _routeData.user)]]\"\n          narrow=\"[[narrow]]\"\n          route=\"[[route]]\"\n        ></ha-user-editor>\n      </template>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      isWide: Boolean,\n      narrow: Boolean,\n      route: {\n        type: Object,\n        observer: \"_checkRoute\",\n      },\n      _routeData: Object,\n      _user: {\n        type: Object,\n        value: null,\n      },\n      _users: {\n        type: Array,\n        value: null,\n      },\n    };\n  }\n\n  ready() {\n    super.ready();\n    this._loadData();\n    this.addEventListener(\"reload-users\", () => this._loadData());\n  }\n\n  _handlePickUser(ev) {\n    this._user = ev.detail.user;\n  }\n\n  _checkRoute(route) {\n    // prevent list getting under toolbar\n    fireEvent(this, \"iron-resize\");\n\n    this._debouncer = Debouncer.debounce(\n      this._debouncer,\n      timeOut.after(0),\n      () => {\n        if (route.path === \"\") {\n          this.navigate(`${route.prefix}/picker`, true);\n        }\n      }\n    );\n  }\n\n  _computeUser(users, userId) {\n    return users && users.filter((u) => u.id === userId)[0];\n  }\n\n  _equals(a, b) {\n    return a === b;\n  }\n\n  async _loadData() {\n    this._users = await fetchUsers(this.hass);\n  }\n}\n\ncustomElements.define(\"ha-config-users\", HaConfigUsers);\n"],"sourceRoot":""}