{"version":3,"sources":["webpack:///./src/components/ha-card.ts","webpack:///./src/common/string/compare.ts","webpack:///./src/panels/config/ha-config-section.ts","webpack:///./src/layouts/hass-tabs-subpage.ts","webpack:///./src/components/ha-fab.ts","webpack:///./src/data/user.ts","webpack:///./src/data/person.ts","webpack:///./src/panels/config/person/show-dialog-person-detail.ts","webpack:///./src/panels/config/person/ha-config-person.ts"],"names":["HaCard","property","css","_templateObject","html","_templateObject2","this","header","_templateObject3","_templateObject4","LitElement","customElements","define","__webpack_require__","d","__webpack_exports__","compare","caseInsensitiveCompare","a","b","toLowerCase","_decorate","customElement","_initialize","_LitElement","F","_LitElement2","HaConfigSection","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_getPrototypeOf","call","apply","concat","_assertThisInitialized","_inherits","kind","decorators","key","value","classMap","narrow","isWide","vertical","horizontal","static","HassTabsSubpage","type","String","attribute","Boolean","reflect","changedProperties","_this2","_get","prototype","has","_activeTab","tabs","findIndex","tab","route","prefix","includes","path","_this3","hassio","_backTapped","bottom-bar","map","page","index","component","core","isComponentLoaded","hass","exportOnly","showAdvanced","active","_tabTapped","icon","translationKey","localize","name","ev","navigate","currentTarget","backPath","backCallback","history","back","_templateObject5","MwcFab","get","_MwcFab","_MwcFab2","HaFab","classes","mdc-fab--mini","mini","mdc-fab--exited","exited","mdc-fab--extended","extended","showLabel","label","ripple","disabled","showIconAtEnd","SYSTEM_GROUP_ID_ADMIN","SYSTEM_GROUP_ID_USER","fetchUsers","updateUser","deleteUser","regeneratorRuntime","async","_context","prev","next","abrupt","callWS","stop","userId","params","_context3","Object","assign","user_id","_context4","createPerson","values","loadPersonDetailDialog","Promise","all","e","then","bind","HaConfigPerson","undefined","_storageItems","_configItems","configSections","persons","entry","_openEditEntry","_createPerson","_templateObject6","_templateObject7","_templateObject8","changedProps","_fetchData","personData","_usersLoad","awrap","sent","storage","sort","ent1","ent2","config","_openDialog","users","currentPerson","used","Set","_i","_arr","coll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","pers","add","err","currentUserId","filter","user","id","_context5","element","systemLogDetailParams","_allowedUsers","createEntry","created","_context2","updateEntry","updated","personId","updates","person_id","ent","removeEntry","confirm","t0","fireEvent","dialogTag","dialogImport","dialogParams","_templateObject9"],"mappings":"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","file":"chunk.ed94d726f32eca5f20ea.js","sourcesContent":["import {\n  css,\n  CSSResult,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\nclass HaCard extends LitElement {\n  @property() public header?: string;\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--paper-card-background-color, white)\n        );\n        border-radius: var(--ha-card-border-radius, 2px);\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0 2px 2px 0 rgba(0, 0, 0, 0.14),\n          0 1px 5px 0 rgba(0, 0, 0, 0.12),\n          0 3px 1px -2px rgba(0, 0, 0, 0.2)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        padding: 24px 16px 16px;\n        display: block;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid #e8e8e8;\n        padding: 5px 16px;\n      }\n    `;\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.header\n        ? html`\n            <div class=\"card-header\">${this.header}</div>\n          `\n        : html``}\n      <slot></slot>\n    `;\n  }\n}\n\ncustomElements.define(\"ha-card\", HaCard);\n","export const compare = (a: string, b: string) => {\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n\n  return 0;\n};\n\nexport const caseInsensitiveCompare = (a: string, b: string) =>\n  compare(a.toLowerCase(), b.toLowerCase());\n","import { customElement, LitElement, html, css, property } from \"lit-element\";\nimport { classMap } from \"lit-html/directives/class-map\";\n\n@customElement(\"ha-config-section\")\nexport class HaConfigSection extends LitElement {\n  @property() public isWide: boolean = false;\n\n  protected render() {\n    return html`\n      <div\n        class=\"content ${classMap({\n          narrow: !this.isWide,\n        })}\"\n      >\n        <div class=\"header\"><slot name=\"header\"></slot></div>\n        <div\n          class=\"together layout ${classMap({\n            narrow: !this.isWide,\n            vertical: !this.isWide,\n            horizontal: this.isWide,\n          })}\"\n        >\n          <div class=\"intro\"><slot name=\"introduction\"></slot></div>\n          <div class=\"panel flex-auto\"><slot></slot></div>\n        </div>\n      </div>\n    `;\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        display: block;\n      }\n      .content {\n        padding: 28px 20px 0;\n        max-width: 1040px;\n        margin: 0 auto;\n      }\n\n      .layout {\n        display: flex;\n      }\n\n      .horizontal {\n        flex-direction: row;\n      }\n\n      .vertical {\n        flex-direction: column;\n      }\n\n      .flex-auto {\n        flex: 1 1 auto;\n      }\n\n      .header {\n        font-family: var(--paper-font-headline_-_font-family);\n        -webkit-font-smoothing: var(\n          --paper-font-headline_-_-webkit-font-smoothing\n        );\n        font-size: var(--paper-font-headline_-_font-size);\n        font-weight: var(--paper-font-headline_-_font-weight);\n        letter-spacing: var(--paper-font-headline_-_letter-spacing);\n        line-height: var(--paper-font-headline_-_line-height);\n        opacity: var(--dark-primary-opacity);\n      }\n\n      .together {\n        margin-top: 32px;\n      }\n\n      .intro {\n        font-family: var(--paper-font-subhead_-_font-family);\n        -webkit-font-smoothing: var(\n          --paper-font-subhead_-_-webkit-font-smoothing\n        );\n        font-weight: var(--paper-font-subhead_-_font-weight);\n        line-height: var(--paper-font-subhead_-_line-height);\n        width: 100%;\n        max-width: 400px;\n        margin-right: 40px;\n        opacity: var(--dark-primary-opacity);\n        font-size: 14px;\n        padding-bottom: 20px;\n      }\n\n      .panel {\n        margin-top: -24px;\n      }\n\n      .panel ::slotted(*) {\n        margin-top: 24px;\n        display: block;\n      }\n\n      .narrow.content {\n        max-width: 640px;\n      }\n      .narrow .together {\n        margin-top: 20px;\n      }\n      .narrow .intro {\n        padding-bottom: 20px;\n        margin-right: 0;\n        max-width: 500px;\n      }\n    `;\n  }\n}\n","import {\n  LitElement,\n  property,\n  TemplateResult,\n  html,\n  customElement,\n  css,\n  CSSResult,\n  PropertyValues,\n} from \"lit-element\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-paper-icon-button-arrow-prev\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport { Route, HomeAssistant } from \"../types\";\nimport { navigate } from \"../common/navigate\";\nimport \"@material/mwc-ripple\";\nimport { isComponentLoaded } from \"../common/config/is_component_loaded\";\n\nexport interface PageNavigation {\n  path: string;\n  translationKey?: string;\n  component?: string;\n  name?: string;\n  core?: boolean;\n  exportOnly?: boolean;\n  icon?: string;\n  info?: any;\n}\n\n@customElement(\"hass-tabs-subpage\")\nclass HassTabsSubpage extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property({ type: String, attribute: \"back-path\" }) public backPath?: string;\n  @property() public backCallback?: () => void;\n  @property({ type: Boolean }) public hassio = false;\n  @property({ type: Boolean }) public showAdvanced = false;\n  @property() public route!: Route;\n  @property() public tabs!: PageNavigation[];\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n  @property() private _activeTab: number = -1;\n\n  protected updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"route\")) {\n      this._activeTab = this.tabs.findIndex((tab) =>\n        this.route.prefix.includes(tab.path)\n      );\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"toolbar\">\n        <ha-paper-icon-button-arrow-prev\n          aria-label=\"Back\"\n          .hassio=${this.hassio}\n          @click=${this._backTapped}\n        ></ha-paper-icon-button-arrow-prev>\n        <div id=\"tabbar\" class=${classMap({ \"bottom-bar\": this.narrow })}>\n          ${this.tabs.map((page, index) =>\n            (!page.component ||\n              page.core ||\n              isComponentLoaded(this.hass, page.component)) &&\n            (!page.exportOnly || this.showAdvanced)\n              ? html`\n                  <div\n                    class=\"tab ${classMap({\n                      active: index === this._activeTab,\n                    })}\"\n                    @click=${this._tabTapped}\n                    .path=${page.path}\n                  >\n                    ${this.narrow\n                      ? html`\n                          <ha-icon .icon=${page.icon}></ha-icon>\n                        `\n                      : \"\"}\n                    ${!this.narrow || index === this._activeTab\n                      ? html`\n                          <span class=\"name\"\n                            >${page.translationKey\n                              ? this.hass.localize(page.translationKey)\n                              : name}</span\n                          >\n                        `\n                      : \"\"}\n                    <mwc-ripple></mwc-ripple>\n                  </div>\n                `\n              : \"\"\n          )}\n        </div>\n\n        <div id=\"toolbar-icon\">\n          <slot name=\"toolbar-icon\"></slot>\n        </div>\n      </div>\n      <div class=\"content\">\n        <slot></slot>\n      </div>\n    `;\n  }\n\n  private _tabTapped(ev: MouseEvent): void {\n    navigate(this, (ev.currentTarget as any).path, true);\n  }\n\n  private _backTapped(): void {\n    if (this.backPath) {\n      navigate(this, this.backPath);\n      return;\n    }\n    if (this.backCallback) {\n      this.backCallback();\n      return;\n    }\n    history.back();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: block;\n        height: 100%;\n        background-color: var(--primary-background-color);\n      }\n\n      .toolbar {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        height: 65px;\n        background-color: var(--sidebar-background-color);\n        font-weight: 400;\n        color: var(--sidebar-text-color);\n        border-bottom: 1px solid var(--divider-color);\n        padding: 0 16px;\n        box-sizing: border-box;\n      }\n\n      :host([narrow]) .toolbar {\n        background-color: var(--primary-background-color);\n        border-bottom: none;\n      }\n\n      #tabbar {\n        display: flex;\n        font-size: 14px;\n      }\n\n      #tabbar.bottom-bar {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        padding: 0 16px;\n        box-sizing: border-box;\n        background-color: var(--sidebar-background-color);\n        border-top: 1px solid var(--divider-color);\n        justify-content: space-between;\n        z-index: 1;\n        font-size: 12px;\n        width: 100%;\n      }\n\n      #tabbar:not(.bottom-bar) {\n        margin: auto;\n        left: 50%;\n        position: absolute;\n        transform: translate(-50%, 0);\n      }\n\n      .tab {\n        padding: 0 32px;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        align-items: center;\n        justify-content: center;\n        height: 64px;\n        cursor: pointer;\n      }\n\n      .name {\n        white-space: nowrap;\n      }\n\n      .tab.active {\n        color: var(--primary-color);\n      }\n\n      #tabbar:not(.bottom-bar) .tab.active {\n        border-bottom: 2px solid var(--primary-color);\n      }\n\n      .bottom-bar .tab {\n        padding: 0 16px;\n        width: 20%;\n        min-width: 0;\n      }\n\n      ha-menu-button,\n      ha-paper-icon-button-arrow-prev,\n      ::slotted([slot=\"toolbar-icon\"]) {\n        pointer-events: auto;\n        color: var(--sidebar-icon-color);\n      }\n\n      [main-title] {\n        margin: 0 0 0 24px;\n        line-height: 20px;\n        flex-grow: 1;\n      }\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 65px);\n        overflow-y: auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n\n      #toolbar-icon {\n        position: absolute;\n        right: 16px;\n      }\n\n      :host([narrow]) .content {\n        height: calc(100% - 128px);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-tabs-subpage\": HassTabsSubpage;\n  }\n}\n","import { classMap } from \"lit-html/directives/class-map\";\nimport { html, customElement } from \"lit-element\";\nimport { ripple } from \"@material/mwc-ripple/ripple-directive.js\";\n\nimport \"@material/mwc-fab\";\nimport { Constructor } from \"../types\";\n// tslint:disable-next-line\nimport { Fab } from \"@material/mwc-fab\";\n// tslint:disable-next-line\nconst MwcFab = customElements.get(\"mwc-fab\") as Constructor<Fab>;\n\n@customElement(\"ha-fab\")\nexport class HaFab extends MwcFab {\n  // We override the render method because we don't have an icon font and mwc-fab doesn't support our svg-icon sets.\n  // Based on version mwc-fab 0.8\n  protected render() {\n    const classes = {\n      \"mdc-fab--mini\": this.mini,\n      \"mdc-fab--exited\": this.exited,\n      \"mdc-fab--extended\": this.extended,\n    };\n    const showLabel = this.label !== \"\" && this.extended;\n    return html`\n      <button\n        .ripple=\"${ripple()}\"\n        class=\"mdc-fab ${classMap(classes)}\"\n        ?disabled=\"${this.disabled}\"\n        aria-label=\"${this.label || this.icon}\"\n      >\n        ${showLabel && this.showIconAtEnd ? this.label : \"\"}\n        ${this.icon\n          ? html`\n              <ha-icon .icon=${this.icon}></ha-icon>\n            `\n          : \"\"}\n        ${showLabel && !this.showIconAtEnd ? this.label : \"\"}\n      </button>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-fab\": HaFab;\n  }\n}\n","import { HomeAssistant } from \"../types\";\nimport { Credential } from \"./auth\";\n\nexport const SYSTEM_GROUP_ID_ADMIN = \"system-admin\";\nexport const SYSTEM_GROUP_ID_USER = \"system-users\";\nexport const SYSTEM_GROUP_ID_READ_ONLY = \"system-read-only\";\n\nexport interface User {\n  id: string;\n  name: string;\n  is_owner: boolean;\n  is_active: boolean;\n  system_generated: boolean;\n  group_ids: string[];\n  credentials: Credential[];\n}\n\ninterface UpdateUserParams {\n  name?: User[\"name\"];\n  group_ids?: User[\"group_ids\"];\n}\n\nexport const fetchUsers = async (hass: HomeAssistant) =>\n  hass.callWS<User[]>({\n    type: \"config/auth/list\",\n  });\n\nexport const createUser = async (hass: HomeAssistant, name: string) =>\n  hass.callWS<{ user: User }>({\n    type: \"config/auth/create\",\n    name,\n  });\n\nexport const updateUser = async (\n  hass: HomeAssistant,\n  userId: string,\n  params: UpdateUserParams\n) =>\n  hass.callWS<{ user: User }>({\n    ...params,\n    type: \"config/auth/update\",\n    user_id: userId,\n  });\n\nexport const deleteUser = async (hass: HomeAssistant, userId: string) =>\n  hass.callWS<void>({\n    type: \"config/auth/delete\",\n    user_id: userId,\n  });\n","import { HomeAssistant } from \"../types\";\n\nexport interface Person {\n  id: string;\n  name: string;\n  user_id?: string;\n  device_trackers?: string[];\n}\n\nexport interface PersonMutableParams {\n  name: string;\n  user_id: string | null;\n  device_trackers: string[];\n}\n\nexport const fetchPersons = (hass: HomeAssistant) =>\n  hass.callWS<{\n    storage: Person[];\n    config: Person[];\n  }>({ type: \"person/list\" });\n\nexport const createPerson = (\n  hass: HomeAssistant,\n  values: PersonMutableParams\n) =>\n  hass.callWS<Person>({\n    type: \"person/create\",\n    ...values,\n  });\n\nexport const updatePerson = (\n  hass: HomeAssistant,\n  personId: string,\n  updates: Partial<PersonMutableParams>\n) =>\n  hass.callWS<Person>({\n    type: \"person/update\",\n    person_id: personId,\n    ...updates,\n  });\n\nexport const deletePerson = (hass: HomeAssistant, personId: string) =>\n  hass.callWS({\n    type: \"person/delete\",\n    person_id: personId,\n  });\n","import { fireEvent } from \"../../../common/dom/fire_event\";\nimport { Person, PersonMutableParams } from \"../../../data/person\";\nimport { User } from \"../../../data/user\";\n\nexport interface PersonDetailDialogParams {\n  entry?: Person;\n  users: User[];\n  createEntry: (values: PersonMutableParams) => Promise<unknown>;\n  updateEntry: (updates: Partial<PersonMutableParams>) => Promise<unknown>;\n  removeEntry: () => Promise<boolean>;\n}\n\nexport const loadPersonDetailDialog = () =>\n  import(/* webpackChunkName: \"person-detail-dialog\" */ \"./dialog-person-detail\");\n\nexport const showPersonDetailDialog = (\n  element: HTMLElement,\n  systemLogDetailParams: PersonDetailDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-person-detail\",\n    dialogImport: loadPersonDetailDialog,\n    dialogParams: systemLogDetailParams,\n  });\n};\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  css,\n  CSSResult,\n  property,\n} from \"lit-element\";\nimport \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-item/paper-item-body\";\n\nimport { HomeAssistant, Route } from \"../../../types\";\nimport {\n  Person,\n  fetchPersons,\n  updatePerson,\n  deletePerson,\n  createPerson,\n} from \"../../../data/person\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-fab\";\nimport \"../../../layouts/hass-tabs-subpage\";\nimport \"../../../layouts/hass-loading-screen\";\nimport { compare } from \"../../../common/string/compare\";\nimport \"../ha-config-section\";\nimport {\n  showPersonDetailDialog,\n  loadPersonDetailDialog,\n} from \"./show-dialog-person-detail\";\nimport { User, fetchUsers } from \"../../../data/user\";\nimport { configSections } from \"../ha-panel-config\";\n\nclass HaConfigPerson extends LitElement {\n  @property() public hass?: HomeAssistant;\n  @property() public isWide?: boolean;\n  @property() public narrow?: boolean;\n  @property() public route!: Route;\n  @property() private _storageItems?: Person[];\n  @property() private _configItems?: Person[];\n  private _usersLoad?: Promise<User[]>;\n\n  protected render(): TemplateResult {\n    if (\n      !this.hass ||\n      this._storageItems === undefined ||\n      this._configItems === undefined\n    ) {\n      return html`\n        <hass-loading-screen></hass-loading-screen>\n      `;\n    }\n    const hass = this.hass;\n    return html`\n      <hass-tabs-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        .route=${this.route}\n        back-path=\"/config\"\n        .tabs=${configSections.persons}\n      >\n        <ha-config-section .isWide=${this.isWide}>\n          <span slot=\"header\"\n            >${hass.localize(\"ui.panel.config.person.caption\")}</span\n          >\n          <span slot=\"introduction\">\n            ${hass.localize(\"ui.panel.config.person.introduction\")}\n            ${this._configItems.length > 0\n              ? html`\n                  <p>\n                    ${hass.localize(\n                      \"ui.panel.config.person.note_about_persons_configured_in_yaml\"\n                    )}\n                  </p>\n                `\n              : \"\"}\n          </span>\n          <ha-card class=\"storage\">\n            ${this._storageItems.map((entry) => {\n              return html`\n                <paper-item @click=${this._openEditEntry} .entry=${entry}>\n                  <paper-item-body>\n                    ${entry.name}\n                  </paper-item-body>\n                </paper-item>\n              `;\n            })}\n            ${this._storageItems.length === 0\n              ? html`\n                  <div class=\"empty\">\n                    ${hass.localize(\n                      \"ui.panel.config.person.no_persons_created_yet\"\n                    )}\n                    <mwc-button @click=${this._createPerson}>\n                      ${hass.localize(\n                        \"ui.panel.config.person.create_person\"\n                      )}</mwc-button\n                    >\n                  </div>\n                `\n              : html``}\n          </ha-card>\n          ${this._configItems.length > 0\n            ? html`\n                <ha-card header=\"Configuration.yaml persons\">\n                  ${this._configItems.map((entry) => {\n                    return html`\n                      <paper-item>\n                        <paper-item-body>\n                          ${entry.name}\n                        </paper-item-body>\n                      </paper-item>\n                    `;\n                  })}\n                </ha-card>\n              `\n            : \"\"}\n        </ha-config-section>\n      </hass-tabs-subpage>\n\n      <ha-fab\n        ?is-wide=${this.isWide}\n        ?narrow=${this.narrow}\n        icon=\"hass:plus\"\n        title=\"${hass.localize(\"ui.panel.config.person.add_person\")}\"\n        @click=${this._createPerson}\n      ></ha-fab>\n    `;\n  }\n\n  protected firstUpdated(changedProps) {\n    super.firstUpdated(changedProps);\n    this._fetchData();\n    loadPersonDetailDialog();\n  }\n\n  private async _fetchData() {\n    this._usersLoad = fetchUsers(this.hass!);\n    const personData = await fetchPersons(this.hass!);\n\n    this._storageItems = personData.storage.sort((ent1, ent2) =>\n      compare(ent1.name, ent2.name)\n    );\n    this._configItems = personData.config.sort((ent1, ent2) =>\n      compare(ent1.name, ent2.name)\n    );\n  }\n\n  private _createPerson() {\n    this._openDialog();\n  }\n\n  private _openEditEntry(ev: MouseEvent) {\n    const entry: Person = (ev.currentTarget! as any).entry;\n    this._openDialog(entry);\n  }\n\n  private _allowedUsers(users: User[], currentPerson?: Person) {\n    const used = new Set();\n    for (const coll of [this._configItems, this._storageItems]) {\n      for (const pers of coll!) {\n        if (pers.user_id) {\n          used.add(pers.user_id);\n        }\n      }\n    }\n    const currentUserId = currentPerson ? currentPerson.user_id : undefined;\n    return users.filter(\n      (user) => user.id === currentUserId || !used.has(user.id)\n    );\n  }\n\n  private async _openDialog(entry?: Person) {\n    const users = await this._usersLoad!;\n\n    showPersonDetailDialog(this, {\n      entry,\n      users: this._allowedUsers(users, entry),\n      createEntry: async (values) => {\n        const created = await createPerson(this.hass!, values);\n        this._storageItems = this._storageItems!.concat(\n          created\n        ).sort((ent1, ent2) => compare(ent1.name, ent2.name));\n      },\n      updateEntry: async (values) => {\n        const updated = await updatePerson(this.hass!, entry!.id, values);\n        this._storageItems = this._storageItems!.map((ent) =>\n          ent === entry ? updated : ent\n        );\n      },\n      removeEntry: async () => {\n        if (\n          !confirm(`${this.hass!.localize(\n            \"ui.panel.config.person.confirm_delete\"\n          )}\n\n${this.hass!.localize(\"ui.panel.config.person.confirm_delete2\")}`)\n        ) {\n          return false;\n        }\n\n        try {\n          await deletePerson(this.hass!, entry!.id);\n          this._storageItems = this._storageItems!.filter(\n            (ent) => ent !== entry\n          );\n          return true;\n        } catch (err) {\n          return false;\n        }\n      },\n    });\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      a {\n        color: var(--primary-color);\n      }\n      ha-card {\n        max-width: 600px;\n        margin: 16px auto;\n        overflow: hidden;\n      }\n      .empty {\n        text-align: center;\n        padding: 8px;\n      }\n      paper-item {\n        padding-top: 4px;\n        padding-bottom: 4px;\n      }\n      ha-card.storage paper-item {\n        cursor: pointer;\n      }\n      ha-fab {\n        position: fixed;\n        bottom: 16px;\n        right: 16px;\n        z-index: 1;\n      }\n      ha-fab[narrow] {\n        bottom: 84px;\n      }\n      ha-fab[is-wide] {\n        bottom: 24px;\n        right: 24px;\n      }\n    `;\n  }\n}\n\ncustomElements.define(\"ha-config-person\", HaConfigPerson);\n"],"sourceRoot":""}