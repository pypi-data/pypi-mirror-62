let guiSkins={};guiSkins.default={menu_active_bg_color:{color_var:"--menu-active-bg-color",title:'Active menu background',format:'color',default:"#0078ff",},menu_active_color:{color_var:"--menu-active-color",title:'Active menu color',format:'color',default:"#ffffff",},content_wrapper:{color_var:"--content-wrapper",title:'Body background',format:'color',default:"#ecf0f5",},main_header_bg_color:{color_var:"--main-header-bg-color",title:'Top navigation background',format:'color',default:"#ffffff",},main_border_color:{color_var:"--main-border-color",title:'Top navigation border',format:'color',default:"#dee2e6",},left_sidebar_bg_color:{color_var:"--left-sidebar-bg-color",title:'Left sidebar background',format:'color',default:"#343a40",},left_sidebar_border_color:{color_var:"--left-sidebar-border-color",title:'Left sidebar border',format:'color',default:"#4b545c",},customizer_options_bg_color:{color_var:"--customizer-options-bg-color",title:'Customizer sidebar background',format:'color',default:"#343a40",},breadcrumb_bg_color:{color_var:"--breadcrumb-bg-color",title:'Breadcrumbs background',format:'color',default:"#d2d6de",},btn_default_bg_color:{color_var:"--btn-default-bg-color",title:'Buttons default background',format:'color',default:"#f4f4f4",},btn_default_color:{color_var:"--btn-default-color",title:'Buttons default text',format:'color',default:"#444444",},btn_default_border_color:{color_var:"--btn-default-border-color",title:'Buttons default border',format:'color',default:"#dddddd",},btn_primary_bg_color:{color_var:"--btn-primary-bg-color",title:'Buttons primary background',format:'color',default:"#3c75b3",},btn_primary_color:{color_var:"--btn-primary-color",title:'Buttons primary text',format:'color',default:"#ffffff",},btn_primary_border_color:{color_var:"--btn-primary-border-color",title:'Buttons primary border',format:'color',default:"#2a6fbc",},btn_danger_bg_color:{color_var:"--btn-danger-bg-color",title:'Buttons danger background',format:'color',default:"#dc3545",},btn_danger_color:{color_var:"--btn-danger-color",title:'Buttons danger text',format:'color',default:"#ffffff",},btn_danger_border_color:{color_var:"--btn-danger-border-color",title:'Buttons danger border',format:'color',default:"#dc3545",},btn_warning_bg_color:{color_var:"--btn-warning-bg-color",title:'Buttons warning background',format:'color',default:"#ffc107",},btn_warning_color:{color_var:"--btn-warning-color",title:'Buttons warning text',format:'color',default:"#1f2d3d",},btn_warning_border_color:{color_var:"--btn-warning-border-color",title:'Buttons warning border',format:'color',default:"#ffc107",},a_color:{color_var:"--a-color",title:'Links',format:'color',default:"#007bff",},a_color_hover:{color_var:"--a-color-hover",title:'Links hover',format:'color',default:"#0056b3",},a_color_revers:{color_var:"--a-color-revers",title:'Links revers',format:'color',default:"#006AE0",},a_color_hover_revers:{color_var:"--a-color-hover-revers",title:'Links hover revers',format:'color',default:"#00448F",},text_color:{color_var:"--text-color",title:'Text color',format:'color',default:"#1b2026",},ico_default_color:{color_var:"--ico-default-color",title:'ICO default color',format:'color',default:"#141a21",},text_header_color:{color_var:"--text-header-color",title:'Text header color',format:'color',default:"#1f2d3d",},background_default_color:{color_var:"--background-default-color",title:'Background default color',format:'color',default:"#ffffff",},card_header_bg_color:{color_var:"--card-header-bg-color",title:'Card header background',format:'color',default:"#17a2b8",},card_body_bg_color:{color_var:"--card-body-bg-color",title:'Card body background',format:'color',default:"#ffffff",},card_footer_bg_color:{color_var:"--card-footer-bg-color",title:'Card footer background',format:'color',default:"#f7f7f7",},card_color:{color_var:"--card-color",title:'Card color',format:'color',default:"#ffffff",},control_label_color:{color_var:"--control-label-color",title:'Labels',format:'color',default:"#212529",},help_block_color:{color_var:"--help-block-color",title:'Help content',format:'color',default:"#a3a3a3",},help_text_color:{color_var:"---help-text-color",title:'Help text color',format:'color',default:"#a3a3a3",},highlight_tr_hover_color:{color_var:"--highlight-tr-hover-color",title:'Table line hover bg color',format:'color',default:"#D8EDF8",},table_border_color:{color_var:"--table-border-color",title:'Table border color',format:'color',default:"#dfe3e7",},selected_color:{color_var:"--selected-color",title:'Table line selected bg color',format:'color',default:"#dfeed9",},background_active_color:{color_var:"--background-active-color",title:'Background active color',format:'color',default:"#2d75be",},background_passiv_color:{color_var:"--background-passiv-color",title:'Background passive color',format:'color',default:"#3d434a",},text_hover_color:{color_var:"--text-hover-color",title:'Text hover color',format:'color',default:"#16181b",},boolean_true_color:{color_var:"--boolean-true-color",title:'Boolean true color',format:'color',default:"#128200",},boolean_false_color:{color_var:"--boolean-false-color",title:'Boolean false color',format:'color',default:"#949494",},modal_bg_color:{color_var:"--modal-bg-color",title:'Modal background color',format:'color',default:"#ffffff",},api_sections_bg_color:{color_var:"--api-sections-bg-color",title:'Api sections background color',format:'color',default:"#f7f7f9",},api_sections_border_color:{color_var:"--api-sections-border-color",title:'Api sections border color',format:'color',default:"#e1e1e8",},prettify_com_color:{color_var:"--prettify-com-color",title:'Code highlighting color 1',format:'color',default:"#93a1a1",},prettify_lit_color:{color_var:"--prettify-lit-color",title:'Code highlighting color 2',format:'color',default:"#195f91",},prettify_fun_color:{color_var:"--prettify-fun-color",title:'Code highlighting color 3',format:'color',default:"#dc322f",},prettify_str_color:{color_var:"--prettify-str-color",title:'Code highlighting color 4',format:'color',default:"#de1043",},prettify_kwd_color:{color_var:"--prettify-kwd-color",title:'Code highlighting color 5',format:'color',default:"#1e347b",},prettify_var_color:{color_var:"--prettify-var-color",title:'Code highlighting color 6',format:'color',default:"#008080",},prettify_pln_color:{color_var:"--prettify-pln-color",title:'Code highlighting color 7',format:'color',default:"#48484c",},};const skinDarkMixin={menu_active_bg_color:{default:"#0ca4ba",},content_wrapper:{default:"#515151",},main_header_bg_color:{default:"#828282",},main_border_color:{default:"#1f2d3d",},left_sidebar_bg_color:{default:"#828282",},left_sidebar_border_color:{default:"#1f2d3d",},customizer_options_bg_color:{default:"#828282",},breadcrumb_bg_color:{default:"#8E8E90",},btn_default_bg_color:{default:"#7e7e7e",},btn_default_color:{default:"#e3e3e3",},btn_default_border_color:{default:"#5f5f5f",},a_color:{default:"#ffffff",},a_color_hover:{default:"#d5d5d5",},card_header_bg_color:{default:"#73979d",},card_body_bg_color:{default:"#6c6c6c",},control_label_color:{default:"#d9d9d9",},help_block_color:{default:"#a3a3a3",},text_color:{default:"#cccccc",},table_border_color:{default:"#8d8d8d",},highlight_tr_hover_color:{default:"#474747",},selected_color:{default:"#0a2a00",},background_active_color:{default:"#6c6c6c",},background_passiv_color:{default:"#909090",},text_header_color:{default:"#c2c7d0",},background_default_color:{default:"#838383",},ico_default_color:{default:"#bebebe",},card_footer_bg_color:{default:"#6c6c6c",},boolean_false_color:{default:"#949494",},boolean_true_color:{default:"#21d703",},modal_bg_color:{default:"#515151",},api_sections_bg_color:{default:"#6c6c6c",},api_sections_border_color:{default:"#8d8d8d",},prettify_com_color:{default:"#93a1a1",},prettify_lit_color:{default:"#0DDBDE",},prettify_fun_color:{default:"#FAED5C",},prettify_str_color:{default:"#E8EC09",},prettify_kwd_color:{default:"#3DC2F5",},prettify_var_color:{default:"#12F39C",},prettify_pln_color:{default:"#C2C2C7",},};guiSkins.dark=$.extend(true,{},guiSkins.default,skinDarkMixin);class GuiCustomizer{constructor(skin={},skins={},custom_setting={}){this.skin=skin;this.skins=skins;this.skins_custom_settings=custom_setting;this.form=undefined;this.form_base={custom_style:{title:'Custom CSS',format:'textarea',},delete_settings:{title:'Reset skin settings to default',text:'Reset settings',format:'button',onclick:()=>{this.resetSkinSettingsAndUpdateCss();guiPopUp.success(_translate('Skin settings were successfully reset to default.'));},},saveSkin:{title:'Save skin',text:'Save skin',format:'button',onclick:()=>{this.saveSkinSettings();guiPopUp.success(_translate('Skin settings were successfully saved'));},},};this.formField=undefined;this.skinField=undefined;}
init(){tabSignal.emit('GuiCustomizer.beforeInit',this);this.skinField=new guiFields.choices({name:'skin_name',title:'Skin',format:'choices',enum:Object.keys(this.skins),});this.form=$.extend(true,{},this.skins[this.skin.name],this.form_base,);this.formField=new guiFields.form({name:'skin_settings',title:"Skin settings",form:this.form});tabSignal.emit('GuiCustomizer.afterInit',this);}
formCss(){let css="";let color_vars=[];for(let key in this.form){if(!this.form[key].color_var){continue;}
if(!this.skin.settings[key]){continue;}
color_vars.push(this.form[key].color_var+":"+this.skin.settings[key]);}
css+=".gui-skin-"+this.skin.name+"{"+color_vars.join(';\n')+"}";if(this.skin.settings.custom_style){css=css+"\n"+this.skin.settings.custom_style;}
return css;}
replaceCss(css){$("#currentSkin").remove();$("body").append("<style id='currentSkin' >"+css+"</style>");}
loadSkinCustomSettings(){let skin=this.skin.name;let settings=this.skins_custom_settings;if(settings&&settings[skin]){return settings[skin];}
return{};}
applySkinCustomSettings(){let settings=this.loadSkinCustomSettings();for(let key in settings){if(!this.form[key]){continue;}
this.skin.settings[key]=settings[key];}
this.skin.settings={...this.skin.settings};}
applySkinDefaultSettings(){for(let key in this.form){if(this.form.hasOwnProperty(key)){let val;if(this.form[key]){val=this.form[key].default;}
this.skin.settings[key]=val;this.formField.options.form[key].default=val;this.skin.settings={...this.skin.settings};}}}
updateCssVariables(){this.replaceCss(this.formCss());let str=$("body").attr("class").replace(/gui-skin-[^ ]+/g,"")+
" gui-skin-"+this.skin.name+" ";$("body").attr("class",str);}
resetSkinSettings(){let settings=guiLocalSettings.get('skins_settings')||{};delete settings[this.skin.name];this.skins_custom_settings=settings;guiLocalSettings.set('skins_settings',settings);tabSignal.emit('GuiCustomizer.skins_custom_settings.reseted',this);}
saveSkinSettings(){let settings=this.skins_custom_settings;settings[this.skin.name]=$.extend(true,{},this.skin.settings);this.skins_custom_settings={...settings};guiLocalSettings.set('skins_settings',settings);tabSignal.emit('GuiCustomizer.skins_custom_settings.saved',this);}
resetSkinSettingsAndUpdateCss(){this.resetSkinSettings();this.updateSkinSettings();}
updateSkinSettings(){this.applySkinDefaultSettings();this.applySkinCustomSettings();this.updateCssVariables();}
setSkin(skin){this.form=$.extend(true,{},this.skins[skin],this.form_base);this.updateSkinSettings();this.skin.name=skin;guiLocalSettings.set('skin',skin);tabSignal.emit('GuiCustomizer.skin.name.changed',this);}
setSkinSettings(settings){this.skin.settings=settings;this.skin.settings={...this.skin.settings};this.updateCssVariables();tabSignal.emit('GuiCustomizer.skin.settings.changed',this);}}
let guiCustomizer=new GuiCustomizer({name:guiLocalSettings.get('skin')||'default',settings:{},},guiSkins,guiLocalSettings.get('skins_settings')||{},);