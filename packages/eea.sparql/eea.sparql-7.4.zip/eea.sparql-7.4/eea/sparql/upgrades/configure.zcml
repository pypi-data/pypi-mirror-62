<configure
  xmlns:genericsetup="http://namespaces.zope.org/genericsetup"
  i18n_domain="eea">

  <!-- 5.2 => 6.6 -->
  <genericsetup:upgradeSteps
    source="5200"
    destination="6600"
    profile="eea.sparql:default">

    <genericsetup:upgradeStep
      title="Set export status to sparql objects"
      handler="eea.sparql.upgrades.evolve6600.set_sparql_export_attribute"
    />

  </genericsetup:upgradeSteps>

  <!-- 4.5 => 5.2 -->
  <genericsetup:upgradeSteps
    source="4500"
    destination="5200"
    profile="eea.sparql:default">

    <genericsetup:upgradeStep
      title="Migrate cached_result to sparql_results_cached blob field"
      handler="eea.sparql.upgrades.evolve5200.migrate_sparql_cached_result"
    />

      <genericsetup:upgradeStep
          title="Add Sparql warning message for too many rows results"
          handler="eea.sparql.upgrades.evolve5200.add_sparql_max_row_length_properties"
      />

  </genericsetup:upgradeSteps>

  <!-- 4.4 => 4.5 -->
  <genericsetup:upgradeSteps
    source="4400"
    destination="4500"
    profile="eea.sparql:default">

    <genericsetup:upgradeDepends
      title="Import changes: add entry in Control Panel to view sparqls sync status"
      import_profile="eea.sparql:default"
      import_steps="controlpanel"
      />

  </genericsetup:upgradeSteps>

  <!-- 3.7 => 4.4 -->
  <genericsetup:upgradeSteps
    source="3700"
    destination="4400"
    profile="eea.sparql:default">

    <genericsetup:upgradeStep
      title="Restart all sparqls queries "
      handler="eea.sparql.upgrades.evolve4400.restart_sparqls"
      />
  </genericsetup:upgradeSteps>

  <!-- 3.6 => 3.7 -->
  <genericsetup:upgradeSteps
    source="3600"
    destination="3700"
    profile="eea.sparql:default">

    <genericsetup:upgradeStep
      title="Update old sparqls with the new arguments format "
      handler="eea.sparql.upgrades.evolve3700.migrate_sparqls"
      />
  </genericsetup:upgradeSteps>

  <!-- 2.9 => 3.6 -->
  <genericsetup:upgradeSteps
    source="2900"
    destination="3600"
    profile="eea.sparql:default">

    <genericsetup:upgradeDepends
      title="Import types from eea.sparql profile"
      import_profile="eea.sparql:upgrade36"
      />

  </genericsetup:upgradeSteps>

  <!-- * => 2.9 -->
  <genericsetup:upgradeSteps
    source="*"
    destination="2900"
    profile="eea.sparql:default">

    <genericsetup:upgradeStep
      title="create async tasks to update latest working results for existing "
      handler="eea.sparql.upgrades.evolve2900.migrate_sparqls"
      />
  </genericsetup:upgradeSteps>

  <!-- 1.1 => 2.4 -->
  <genericsetup:upgradeSteps
    source="1001"
    destination="2400"
    profile="eea.sparql:default">

    <genericsetup:upgradeDepends
      title="Import all steps from eea.sparql profile"
      import_profile="eea.sparql:default"
      />

  </genericsetup:upgradeSteps>

  <!-- 1.0 => 1.1 -->
  <genericsetup:upgradeSteps
    source="1000"
    destination="1001"
    profile="eea.sparql:default">

    <genericsetup:upgradeDepends
      title="Import all steps from eea.sparql profile"
      import_profile="eea.sparql:default"
      />

  </genericsetup:upgradeSteps>

</configure>
